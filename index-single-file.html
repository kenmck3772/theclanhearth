<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Clan Hearth - An Interactive Scottish Heritage App</title>
    <meta name="description" content="Discover your Scottish heritage. Explore detailed clan histories, design tartans, and find traditional recipes.">
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Inter', sans-serif; }
        .font-title { font-family: 'Cinzel', serif; }
        
        /* --- Core App Styles --- */
        .nav-link.active { color: #a16207; border-bottom: 2px solid #a16207; }
        .page-section { display: none; }
        .page-section.active { display: block; }
        .modal { backdrop-filter: blur(4px); background-color: rgba(0,0,0,0.6); }
        .content-card { transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out; }
        .content-card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.1); }
        .animate-fade-in { animation: fadeIn 0.5s ease-in-out; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- Dossier/Scroll Styles (Adapted to Theme) --- */
        .sidebar-scroll::-webkit-scrollbar { width: 4px; }
        .sidebar-scroll::-webkit-scrollbar-track { background: #E8D5B7; }
        .sidebar-scroll::-webkit-scrollbar-thumb { background: #a16207; border-radius: 2px; }
        .active-item { background-color: #E8D5B7; color: #44403c; font-weight: 600; }
        .tab-button.active { border-color: #a16207; color: #a16207; font-weight: 600; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .timeline-item::before {
            content: ''; position: absolute; left: -2.75rem; top: 0.5rem;
            width: 1rem; height: 1rem; border-radius: 9999px;
            background-color: #d6d3d1; border: 2px solid #FBF6E8;
        }

        /* --- Tartan Builder Styles --- */
        .color-box { transition: transform 0.2s ease-in-out; }
        .color-box:hover { transform: scale(1.1); }
        .color-box.selected { box-shadow: 0 0 0 3px #a16207; transform: scale(1.1); }
        .tooltip { position: relative; display: inline-block; }
        .tooltip .tooltiptext {
            visibility: hidden; width: 140px; background-color: #555; color: #fff;
            text-align: center; border-radius: 6px; padding: 5px; position: absolute;
            z-index: 1; bottom: 150%; left: 50%; margin-left: -70px;
            opacity: 0; transition: opacity 0.3s;
        }
        .tooltip:hover .tooltiptext { visibility: visible; opacity: 1; }
        .tartan-example-card {
            cursor: pointer;
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        .tartan-example-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body class="font-body text-stone-800 bg-gradient-to-br from-[#FBF6E8] via-[#F5E6D3] to-[#E8D5B7]">
    
    <header class="bg-white/80 backdrop-blur-sm shadow-lg sticky top-0 z-40">
        <div class="max-w-7xl mx-auto px-4 py-4 flex items-center justify-between">
            <h1 class="text-2xl md:text-3xl font-title font-bold text-yellow-800">
                üè¥Û†ÅßÛ†Å¢Û†Å≥Û†Å£Û†Å¥Û†Åø The Clan Hearth
            </h1>
            <nav id="main-nav" class="hidden md:flex items-center space-x-2 md:space-x-4">
                <button class="nav-link font-semibold text-stone-600 hover:text-yellow-800 px-3 py-2" data-target="home">Home</button>
                <button class="nav-link font-semibold text-stone-600 hover:text-yellow-800 px-3 py-2" data-target="clans">Clans</button>
                <button class="nav-link font-semibold text-stone-600 hover:text-yellow-800 px-3 py-2" data-target="legends">Legends</button>
                <button class="nav-link font-semibold text-stone-600 hover:text-yellow-800 px-3 py-2" data-target="tartan-designer">Tartan Designer</button>
                <button class="nav-link font-semibold text-stone-600 hover:text-yellow-800 px-3 py-2" data-target="recipes">Recipe Book</button>
            </nav>
            <button id="mobile-menu-btn" class="md:hidden text-stone-700">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
            </button>
        </div>
        <div id="mobile-menu" class="hidden md:hidden bg-white/95">
             <button class="block w-full text-left nav-link font-semibold text-stone-600 hover:text-yellow-800 p-4 border-t" data-target="home">Home</button>
             <button class="block w-full text-left nav-link font-semibold text-stone-600 hover:text-yellow-800 p-4 border-t" data-target="clans">Clans</button>
             <button class="block w-full text-left nav-link font-semibold text-stone-600 hover:text-yellow-800 p-4 border-t" data-target="legends">Legends</button>
             <button class="block w-full text-left nav-link font-semibold text-stone-600 hover:text-yellow-800 p-4 border-t" data-target="tartan-designer">Tartan Designer</button>
             <button class="block w-full text-left nav-link font-semibold text-stone-600 hover:text-yellow-800 p-4 border-t" data-target="recipes">Recipe Book</button>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 py-8">
        
        <section id="home-section" class="page-section">
            <div class="text-center mb-12 bg-white/70 rounded-2xl shadow-xl p-8">
                <img src="clan_hearth.jpg" alt="The Clan Hearth Emblem" class="w-48 h-48 mx-auto mb-6 rounded-full shadow-lg border-4 border-white">
                <h2 class="text-4xl md:text-5xl font-bold font-title text-stone-900 mb-4">Welcome to The Clan Hearth</h2>
                <p class="text-lg text-stone-600 mb-8 max-w-3xl mx-auto italic">Troimh theine tha sinn aonaichte</p>
                <p class="text-lg md:text-xl text-stone-700 max-w-3xl mx-auto">Your digital gateway to Scottish heritage. Explore detailed clan histories, design a personal tartan, or discover the recipes that fueled the Highlands. Your journey starts here.</p>
            </div>
        </section>

        <section id="clans-section" class="page-section">
            <div class="flex flex-col md:flex-row min-h-[calc(100vh-150px)] bg-white/80 rounded-2xl shadow-xl overflow-hidden">
                <aside class="w-full md:w-64 lg:w-72 bg-stone-100 border-r border-stone-200 p-4">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-xl font-bold text-stone-800 font-title">The Clans</h2>
                    </div>
                    <div class="sidebar-scroll overflow-y-auto max-h-48 md:max-h-[calc(100vh-220px)]">
                        </div>
                </aside>
                <main id="clans-main-content" class="flex-1 p-4 sm:p-6 lg:p-8 overflow-y-auto max-h-[calc(100vh-150px)]">
                    </main>
            </div>
        </section>

        <section id="legends-section" class="page-section">
             <div class="flex flex-col md:flex-row min-h-[calc(100vh-150px)] bg-white/80 rounded-2xl shadow-xl overflow-hidden">
                <aside class="w-full md:w-64 lg:w-72 bg-stone-100 border-r border-stone-200 p-4">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-xl font-bold text-stone-800 font-title">The Legends</h2>
                    </div>
                    <div class="sidebar-scroll overflow-y-auto max-h-48 md:max-h-[calc(100vh-220px)]">
                        </div>
                </aside>
                <main id="legends-main-content" class="flex-1 p-4 sm:p-6 lg:p-8 overflow-y-auto max-h-[calc(100vh-150px)]">
                    </main>
            </div>
        </section>
        
        <section id="tartan-designer-section" class="page-section">
             <div class="bg-white/90 rounded-2xl shadow-xl p-6 md:p-8">
                <div class="text-center mb-8">
                    <h2 class="text-3xl md:text-4xl font-title font-bold text-stone-900">Design Your Own Tartan</h2>
                    <p class="text-lg text-stone-600 mt-2">Create, save, and share a unique pattern that tells your story.</p>
                </div>
                <div class="flex flex-col lg:flex-row gap-8">
                    <div class="lg:w-1/3 bg-stone-50 p-6 rounded-xl border border-stone-200">
                        <div class="mb-6 p-4 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 rounded-r-lg">
                            <h3 class="font-bold">How to Design Your Tartan</h3>
                            <p class="text-sm mt-1">A tartan is a repeating pattern of colored stripes. You are creating the core pattern, called a "sett." We will automatically mirror it to create the full tartan.</p>
                        </div>
                        
                        <div class="space-y-6">
                            <div>
                                <h3 class="text-lg font-semibold mb-2">1. Pick a Colour</h3>
                                <div id="color-palette" class="grid grid-cols-5 sm:grid-cols-6 gap-3"></div>
                            </div>
                            <div>
                                <h3 class="text-lg font-semibold mb-2">2. Set Stripe Size & Add</h3>
                                <div class="flex items-center gap-3">
                                    <input type="number" id="thread-count" class="w-full p-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-yellow-600" placeholder="e.g., 24" min="2">
                                    <button id="add-stripe-btn" class="bg-yellow-800 text-white font-semibold px-5 py-2 rounded-lg hover:bg-yellow-900 transition-colors shadow">Add</button>
                                </div>
                                <p class="text-xs text-stone-500 mt-1">The canvas will show a live preview as you type.</p>
                            </div>
                            <div>
                                <h3 class="text-lg font-semibold mb-2">3. Build Your Pattern (The Sett)</h3>
                                <div id="pattern-list" class="bg-white p-4 rounded-lg h-40 overflow-y-auto border"></div>
                                <div class="flex justify-end mt-2">
                                    <button id="clear-pattern-btn" class="bg-red-700 text-white font-semibold px-4 py-2 rounded-lg hover:bg-red-800 transition-colors shadow text-sm">Clear</button>
                                </div>
                            </div>
                             <div>
                                <h3 class="text-lg font-semibold mb-2">4. Name & Save</h3>
                                <input type="text" id="tartan-name" class="w-full p-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-yellow-600" placeholder="e.g., 'Monarch of the Glen'">
                            </div>
                        </div>
                    </div>
                    <div class="lg:w-3/4 flex flex-col">
                        <div class="bg-white p-2 rounded-xl shadow-inner border flex-grow">
                            <canvas id="tartan-canvas" class="w-full h-full rounded-lg"></canvas>
                        </div>
                        <div class="mt-4 bg-white p-4 rounded-xl border flex items-center justify-center gap-4">
                            <button id="save-btn" class="flex items-center gap-2 bg-green-700 text-white font-semibold px-6 py-3 rounded-lg hover:bg-green-800 transition-colors shadow">
                                <svg class="w-5 h-5" viewBox="0 0 20 20" fill="currentColor"><path d="M5.5 16a3.5 3.5 0 01-3.5-3.5V5.5A3.5 3.5 0 015.5 2h9A3.5 3.5 0 0118 5.5v7a3.5 3.5 0 01-3.5 3.5h-9zM4 5.5A1.5 1.5 0 015.5 4h9A1.5 1.5 0 0116 5.5v7a1.5 1.5 0 01-1.5 1.5h-9A1.5 1.5 0 014 12.5V5.5z"/><path d="M14.5 7a1 1 0 100-2 1 1 0 000 2z"/></svg>
                                Save as Image
                            </button>
                            <div class="tooltip">
                                <button id="share-btn" class="flex items-center gap-2 bg-blue-700 text-white font-semibold px-6 py-3 rounded-lg hover:bg-blue-800 transition-colors shadow">
                                    <svg class="w-5 h-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd"/></svg>
                                    Share Link
                                </button>
                                <span class="tooltiptext" id="share-tooltip">Copy sharable link</span>
                            </div>
                        </div>
                         <div class="mt-6">
                            <h3 class="text-lg font-semibold text-center mb-4">Or, start with a famous tartan:</h3>
                            <div id="tartan-examples-grid" class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="recipes-section" class="page-section">
            <div class="text-center mb-10">
                <h1 class="text-4xl md:text-5xl font-bold font-title text-stone-900">The Highlander's Larder</h1>
                <p class="text-lg text-stone-600 mt-2">An interactive scroll of Scotland's most cherished recipes.</p>
            </div>
            <div class="bg-white/80 rounded-xl shadow-lg p-6 md:p-8 mb-10 animate-fade-in">
                <h3 class="text-2xl font-bold font-title text-stone-800 mb-4 text-center">Recipe Glossary</h3>
                <div id="recipe-index-list" class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-x-6 gap-y-2">
                    </div>
            </div>
            <div id="recipe-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"></div>
        </section>

    </main>

    <div id="generic-modal" class="fixed inset-0 z-50 hidden items-center justify-center p-4 modal">
        <div id="modal-content" class="bg-[#FBF6E8] rounded-lg shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"></div>
    </div>
    <div id="message-box" class="hidden fixed top-20 right-5 text-white py-2 px-4 rounded-lg shadow-lg transition-opacity duration-300 z-50">
        <p id="message-text"></p>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // --- DATA ---
        const clanData = [
            { name: "Clan Campbell", gaelicName: "Na Caimbeulaich", motto: "Ne Obliviscaris (Forget Not)", crest: "A boar's head erased fessways, Or", plantBadge: "Bog Myrtle / Fir Club Moss", warCry: "Cruachan!", territories: "Argyll, Perthshire, Cawdor, Loudoun, Breadalbane", historicSeats: "Inveraray Castle, Castle Campbell (formerly Castle Gloom), Innes Chonnel Castle", rival: "Clan MacDonald", lore: `The history of Clan Campbell is a masterclass in the acquisition and consolidation of power, a narrative of such relentless success that it earned them both immense influence and the enduring enmity of their rivals. Their origins are authentically Gaelic, with the surname Caimbeul deriving from the descriptive nickname cam-beul, meaning "crooked mouth," attributed to an early ancestor. The clan's genesis is in Argyll, where a strategic marriage to the heiress of the ancient O'Duibne people brought them the Lordship of Loch Awe and established their first significant territorial foothold. From this base, they embarked on a calculated and centuries-long ascent to become the most powerful clan in the Highlands.\n\nA pivotal moment that fundamentally shaped their destiny was their early and unwavering support for Robert the Bruce during the Wars of Scottish Independence. While other clans vacillated, Sir Neil Campbell became a trusted ally and brother-in-law to the king. This loyalty was handsomely rewarded. Following Bruce's victory, the Campbells received vast grants of land forfeited by their enemies, most notably their rivals, the MacDougalls of Lorn. This royal patronage catapulted them from a regionally significant family to a dominant force in the west and set the strategic precedent that would guide them for generations: align with the central authority of the state.\n\nThe Campbells' rise was not solely due to their prowess in battle; it was equally, if not more so, a result of their sophisticated political acumen and mastery of the law. By the 15th century, they had skillfully positioned themselves as the Crown's primary agents in the Highlands. When the power of the great MacDonald Lords of the Isles was broken in 1493, it was the Campbells who filled the vacuum, enforcing the king's will and expanding their own domains in the process. This role as the government's enforcers is central to understanding the deep-seated resentment they inspired in clans who valued their autonomy above all else. Their long and bloody feud with Clan MacDonald is the most infamous in Highland history, reaching its nadir in the Massacre of Glencoe in 1692. While a complex government action, the fact that soldiers from the Earl of Argyll's Regiment carried out the act forever stained the Campbell name.`, events: [ { year: "c. 1263", event: "Earliest surviving written record mentions a Campbell, Gillespie, who owned land near Stirling." }, { year: "1296", event: "Chief Cailean M√≥r ('Colin the Great') is killed in a skirmish with Clan MacDougall. All subsequent Campbell chiefs bear his Gaelic patronymic, MacCailean M√≥r." }, { year: "1314", event: "The Campbells fight alongside King Robert the Bruce at the pivotal Battle of Bannockburn." }, { year: "1457", event: "Colin Campbell, 1st Lord Campbell, is elevated to become the 1st Earl of Argyll." }, { year: "1692", event: "Soldiers from the Earl of Argyll's Regiment of Foot, under the command of Captain Robert Campbell of Glenlyon, carry out the Massacre of Glencoe." }, { year: "1701", event: "The 10th Earl of Argyll is created the 1st Duke of Argyll." }, { year: "1746", event: "The foundation stone for the new, grand Inveraray Castle is laid, symbolizing the clan's enduring power." }, ], mottoLore: 'This powerful and somewhat menacing motto perfectly encapsulates the Campbell ethos. It served as a reminder to their allies of their steadfast loyalty and to their enemies of their long memory for grievances.', tartan: { description: "The primary Campbell tartan forms the basis of the military tartan of the Black Watch. The design is a somber and effective pattern of broad stripes of dark, forest green and deep navy blue, overlaid with thin black stripes.", colors: ["#004225", "#1a2d57", "#000000"] }, famousNames: [ { name: "Cailean M√≥r Campbell (d. 1296)", desc: '"Colin the Great," the clan\'s semi-legendary progenitor whose name is immortalized in the Gaelic title of every subsequent chief, MacCailean M√≥r.' }, { name: "Archibald Campbell, 1st Marquess of Argyll (1607‚Äì1661)", desc: "The de facto head of the Covenanter government in Scotland during the Wars of the Three Kingdoms. He was ultimately executed for treason." }, { name: "John Campbell, 2nd Duke of Argyll and Greenwich (1680‚Äì1743)", desc: "A Field Marshal in the British Army who commanded government forces at the Battle of Sheriffmuir in 1715, halting the Jacobite advance." }, ], recipe: { name: "Argyll Lamb Stovies", link: "The Campbell heartland of Argyll is a region of rugged hills and deep lochs, a landscape perfectly suited to sheep farming. Stovies, a quintessential Scottish dish, is a hearty and comforting stew traditionally made with leftover roast meat, potatoes, and onions.", ingredients: ["2 lbs lamb shoulder, cut into chunks", "2 lbs potatoes, thickly sliced", "2 large onions, thinly sliced", "2 cups beef or lamb stock", "2 tablespoons butter or lamb dripping", "Salt and pepper", "Fresh parsley"], method: [ "In a large, heavy-bottomed pot, melt the butter. Add the sliced onions and cook gently for 10-15 minutes until very soft.", "If using raw lamb, add the chunks to the pot and brown the meat on all sides. If using leftover roast lamb, skip this step.", "Arrange a layer of sliced potatoes in the bottom of the pot. Top with a layer of the cooked onions and lamb. Season generously. Repeat the layers, finishing with potatoes on top.", "Pour in the stock. It should come about halfway up the ingredients.", "Bring to a simmer, then reduce heat to low. Cover and cook slowly for 1.5 to 2 hours. Do not stir.", "The stovies are ready when the potatoes are extremely tender and have started to collapse, and the meat is falling apart.", "Serve hot in bowls, garnished with fresh parsley." ] } },
            { name: "Clan Cameron", gaelicName: "Camshron", motto: "Aonaibh ri ch√©ile (Unite)", crest: "A sheaf of five arrows, points upwards, tied with a band, Gules", plantBadge: "Oak / Crowberry", warCry: "Chlanna nan con thigibh a so's gheibh sibh fe√≤il! (Sons of the hounds, come hither and get flesh!)", territories: "Lochaber", historicSeats: "Achnacarry Castle", rival: "Clan Chattan", lore: `Clan Cameron is one of the most ancient and warlike of the great Highland clans...`, events: [ { year: "c. 1370", event: "The Battle of Invernahavon is fought between the Camerons and the Clan Chattan confederation." }, { year: "1665", event: "The feud with the Mackintoshes is finally ended by a treaty at Achnacarry." }, { year: "1745", event: 'Donald Cameron of Lochiel, the "Gentle Lochiel," commits the clan to the Jacobite cause...' }, { year: "1746", event: "The Clan Cameron suffers devastating losses at the Battle of Culloden." }, ], mottoLore: "This Gaelic motto is a powerful call for unity and solidarity...", tartan: { description: "The basic Cameron tartan is a bold and martial pattern of red and green...", colors: ["#C41E3A", "#004225", "#FFD700"] }, famousNames: [ { name: "Sir Ewen Cameron of Lochiel (1629‚Äì1719)", desc: 'A legendary warrior chief known as the "Ulysses of the Highlands."' }, { name: "Donald Cameron of Lochiel, 19th Chief (c. 1695‚Äì1748)", desc: 'The "Gentle Lochiel," whose reluctant but ultimately decisive support for Bonnie Prince Charlie initiated the 1745 Rising.' }, ], recipe: { name: "Lochaber Venison Sausages with Neeps and Tatties", link: "The Camerons' historic lands in Lochaber are a vast, mountainous wilderness...", ingredients: ["1 lb ground venison", "1/2 lb pork fat, ground", "1 small onion, finely grated", "1 cup fresh breadcrumbs", "1 tablespoon chopped fresh sage", "1 teaspoon ground mace", "Salt and black pepper", "Sausage casings (optional)", "1 lb potatoes", "1 lb rutabaga (neep)"], method: [ "In a large bowl, combine the ground venison, pork fat, grated onion, breadcrumbs, sage, and mace...", "If making sausages, stuff the mixture into casings. If not, form the mixture into eight thick patties.", "Cook the sausages or patties in a lightly oiled pan over medium heat for 15-20 minutes...", "While the sausages cook, prepare the neeps and tatties...", "Drain both well. Mash the potatoes with butter and a splash of milk. Mash the rutabaga with a knob of butter...", "Serve the hot venison sausages alongside generous helpings of the mashed neeps and tatties." ] } },
            { name: "Clan Carnegie", gaelicName: "Cathair an Eige (Fort at the gap)", motto: "Dred God (Fear God)", crest: "A thunderbolt Proper, winged Or", plantBadge: "Oak", territories: "Angus, Fife", historicSeats: "Kinnaird Castle, Elsick House", rival: "N/A (Notable Association: Jacobite Rising of 1715)", lore: `The story of Clan Carnegie begins not with the clang of swords, but with the stroke of a pen on a legal charter...`, events: [ { year: "1358", event: "John de Balinhard receives a charter for the barony of Carnegie in Angus and adopts the surname." }, { year: "1633", event: "David, Lord Carnegie, is elevated by King Charles I to the title of 1st Earl of Southesk." }, { year: "1715", event: "James Carnegie, 5th Earl of Southesk, joins the Jacobite Rising. His titles and estates are subsequently forfeited." }, { year: "1835", event: "Andrew Carnegie, the future industrialist and philanthropist, is born in Dunfermline." }, { year: "1855", event: "An Act of Parliament reverses the attainder, and Sir James Carnegie is restored as the 9th Earl of Southesk." }, { year: "1901", event: "Andrew Carnegie sells the Carnegie Steel Company and dedicates the rest of his life to philanthropy." }, ], mottoLore: 'This stark, two-word motto is a powerful statement of the clan\'s worldview...', tartan: { description: "The Carnegie tartan is believed to be a variation of the MacDonnell of Glengarry tartan...", colors: ["#C41E3A", "#004225", "#FFD700"] }, famousNames: [ { name: "David Carnegie, 1st Earl of Southesk (1575‚Äì1658)", desc: "The ambitious laird who, through loyal service to the crown, elevated his family into the Scottish peerage." }, { name: "James Carnegie, 5th Earl of Southesk (1692‚Äì1730)", desc: "The Jacobite Earl who risked, and lost, everything for the cause of the exiled Stewart kings." }, { name: "Andrew Carnegie (1835‚Äì1919)", desc: "The Scottish-American industrialist who rose from poverty to become one of the wealthiest men in the world, then gave his fortune away." }, ], recipe: { name: "Arbroath Smokie P√¢t√©", link: "The origins of Clan Carnegie are rooted in the coastal county of Angus...", ingredients: ["8 oz flesh from Arbroath Smokies", "8 oz full-fat cream cheese, softened", "1 tbsp creamed horseradish", "2 tsp Dijon mustard", "Juice of 1 lemon", "Black pepper", "2 tbsp fresh parsley or chives"], method: [ "Carefully flake the flesh of the Arbroath Smokies into a medium bowl...", "Add the softened cream cheese, horseradish sauce, Dijon mustard, and lemon juice to the bowl.", "Using a fork, mash and mix all the ingredients together...", "Season generously with freshly ground black pepper...", "Stir in the finely chopped fresh parsley or chives.", "Transfer the p√¢t√© to a serving dish, cover, and chill for at least one hour...", "Serve chilled, accompanied by traditional Scottish oatcakes or slices of crusty bread." ] } },
            { name: "Clan Chattan", gaelicName: "Clann Chatain (Clan of the Cats)", motto: "Touch not the cat bot a glove", crest: "A wildcat salient, Proper", plantBadge: "Red Whortleberry / Boxwood", warCry: "Clan Chattan!", territories: "Badenoch, Strathnairn, Lochaber", historicSeats: "Tor Castle / Moy Hall", rival: "Clan Cameron", lore: `Clan Chattan is unique among the great Highland clans in that it was not a single clan, but a powerful confederation...`, events: [ { year: "1396", event: "The Battle of the North Inch is fought between Clan Chattan and Clan Cameron." }, { year: "1688", event: "The Battle of Mulroy, the last clan battle fought on Scottish soil..." }, { year: "1745", event: "The confederation is a major force in the Jacobite army. Lady Anne Farquharson-MacKintosh famously raises the Mackintosh regiment for the Prince." }, ], mottoLore: 'This is one of the most famous and evocative of all clan mottos...', tartan: { description: "As a confederation, each member clan has its own tartan...", colors: ["#1a2d57", "#004225", "#C41E3A"] }, famousNames: [ { name: "Eva, heiress of Clan Chattan (d. 1313)", desc: "Her marriage to Angus Mackintosh, 6th chief of that clan, brought the leadership of the confederation to the Mackintoshes." }, { name: "Lady Anne Farquharson-MacKintosh (1723-1787)", desc: 'Known as "Colonel Anne," this formidable Jacobite heroine raised the Mackintosh regiment for Bonnie Prince Charlie...' }, ], recipe: { name: "Highland Rabbit Stew with Mustard Dumplings", link: "The vast territories of the Clan Chattan confederation in Badenoch and Strathnairn were rich in game...", ingredients: ["1 rabbit, jointed", "2 tablespoons flour", "2 tablespoons oil", "2 onions, chopped", "2 carrots, chopped", "1 cup ale or stock", "For dumplings: 1 cup self-rising flour, 1/2 cup shredded suet, 1 tablespoon wholegrain mustard"], method: [ "Toss the rabbit pieces in the flour seasoned with salt and pepper.", "Heat the oil in a large casserole dish and brown the rabbit pieces on all sides...", "In the same dish, cook the onions and carrots until softened.", "Return the rabbit to the dish, pour in the ale or stock, bring to a simmer, then cover and cook on a low heat for 1.5 hours...", "To make the dumplings, mix the flour, suet, and mustard in a bowl...", "Drop spoonfuls of the dumpling mixture onto the surface of the simmering stew.", "Cover the dish and cook for a further 20 minutes, or until the dumplings are puffed up and cooked through. Serve hot." ] } },
            { name: "Clan Colquhoun", gaelicName: "Mac a' Chombaich", motto: "Si je puis (If I can)", crest: "A hart's head couped, Gules, attired Argent", plantBadge: "Hazel", warCry: "Cnoc Ealachain!", territories: "The lands around Loch Lomond (The Lennox)", historicSeats: "Rossdhu Castle", rival: "Clan MacGregor", lore: `The Colquhouns are a clan whose identity is inextricably linked to the beautiful "bonnie banks" of Loch Lomond...`, events: [ { year: "c. 1241", event: "Humphrey de Kilpatrick is granted the lands of Colquhoun." }, { year: "1368", event: 'Sir Robert de Colquhoun marries the "Fair Maid of Luss," bringing the Luss estates into the family.' }, { year: "1603", event: "The Battle of Glen Fruin, where the Colquhouns are defeated by the MacGregors..." }, { year: "1703", event: "The chief is created a Baronet of Nova Scotia." }, ], mottoLore: 'This French motto, likely adopted due to the family\'s Norman origins, is a statement of quiet determination and resolve...', tartan: { description: "The Colquhoun tartan is a handsome and classic design...", colors: ["#004225", "#1a2d57", "#FFFFFF"] }, famousNames: [ { name: "Sir John Colquhoun of Luss (d. 1439)", desc: "The governor of Dumbarton Castle who was murdered by his own men." }, { name: "Sir James Colquhoun, 1st Baronet of Luss (d. 1719)", desc: "A key figure in the Act of Union between Scotland and England in 1707." }, ], recipe: { name: "Loch Lomond Salmon with Hazelnut and Herb Crust", link: "The Colquhoun's lands on the shores of Loch Lomond were rich in salmon...", ingredients: ["4 salmon fillets", "1/2 cup hazelnuts, toasted and chopped", "1/2 cup fresh breadcrumbs", "2 tbsp chopped fresh parsley", "1 tbsp chopped fresh dill", "Zest of 1 lemon", "2 tbsp melted butter"], method: [ "Preheat the oven to 400¬∞F (200¬∞C).", "In a bowl, combine the chopped hazelnuts, breadcrumbs, parsley, dill, and lemon zest...", "Place the salmon fillets on a baking sheet. Press the hazelnut mixture firmly onto the top of each fillet.", "Bake for 12-15 minutes, or until the salmon is cooked through and the crust is golden brown. Serve immediately." ] } },
            { name: "Clan Cunningham", gaelicName: "MacCuinneagain", motto: "Over Fork Over", crest: "A unicorn's head couped, Argent, armed and maned Or", plantBadge: "Common Gorse", warCry: "A Cunningham! A Cunningham!", territories: "Cunninghame (Ayrshire)", historicSeats: "Finlaystone House, Kerelaw Castle, Glencairn Castle", rival: "Clan Montgomery", lore: `The Cunninghams are a powerful Lowland clan whose name is territorial, from the district of Cunninghame in North Ayrshire...`, events: [ { year: "c. 1160", event: "Wernebald is granted the lands of Cunningham." }, { year: "1488", event: "Alexander Cunningham is created 1st Earl of Glencairn by King James III." }, { year: "1560", event: "Alexander, 5th Earl of Glencairn, plays a leading role in the Scottish Reformation." }, { year: "1586", event: "The murder of the Earl of Eglinton by the Cunninghams marks the height of their feud with the Montgomeries." }, ], mottoLore: "This unique and agricultural motto directly references the clan's origin story...", tartan: { description: "The Cunningham tartan is a simple yet striking pattern...", colors: ["#C41E3A", "#000000", "#FFFFFF"] }, famousNames: [ { name: 'Alexander Cunningham, 5th Earl of Glencairn (d. 1574)', desc: '"The Good Earl," a leading Protestant reformer and a close friend of John Knox.' }, { name: "William Cunningham, 9th Earl of Glencairn (1610‚Äì1664)", desc: "A prominent Covenanter who later became a Royalist and was appointed Lord Chancellor of Scotland after the Restoration." }, ], recipe: { name: "Ayrshire Bacon and Tattie Scones", link: "The Cunningham heartland of Ayrshire is famous for its high-quality bacon...", ingredients: ["For Tattie Scones: 1 lb floury potatoes, boiled and mashed; 1/4 cup flour; 2 tbsp butter; pinch of salt", "8 slices of thick-cut Ayrshire bacon"], method: [ "To make the tattie scones, mix the hot mashed potato with the butter and salt...", "Turn the dough out onto a floured surface and roll it into a round about 1/4 inch thick...", "Cook the scones on a hot, dry griddle or heavy-based frying pan for 3-4 minutes per side...", "While the scones are cooking, grill or fry the Ayrshire bacon until crisp.", "Serve the hot tattie scones alongside the bacon..." ] } },
            { name: "Clan Douglas", gaelicName: "D√πbhghlas (Black Water)", motto: "Jamais arri√®re (Never behind)", crest: "On a chapeau, a green salamander surrounded by flames", plantBadge: "Wild Thyme", warCry: "A Douglas! A Douglas!", territories: "The Scottish Borders, Lanarkshire, Angus, Galloway", historicSeats: "Douglas Castle, Tantallon Castle, Threave Castle, Bothwell Castle", rival: "House of Stewart / Clan Hamilton", lore: `The history of Clan Douglas is the story of power itself‚Äîits acquisition, its consolidation, and its perilous proximity to the Scottish throne...`, events: [ { year: "c. 1174", event: "William de Duglas is the first of the name to appear in the historical record." }, { year: "1306-1329", event: '"The Good" Sir James Douglas serves as Robert the Bruce\'s most trusted commander...' }, { year: "1330", event: "Sir James Douglas is killed in Spain while carrying the heart of Robert the Bruce on crusade." }, { year: "1440", event: 'The "Black Dinner" takes place at Edinburgh Castle...' }, { year: "1452", event: "King James II murders William, 8th Earl of Douglas, at Stirling Castle." }, { year: "1455", event: "The Black Douglases are defeated at the Battle of Arkinholm..." }, ], mottoLore: 'This is the quintessential motto for a clan defined by its ambition, forward momentum, and refusal to be second to any...', tartan: { description: "The Douglas tartan is a simple yet striking design, reflecting the clan's ancient and starkly powerful status in the Lowlands...", colors: ["#a0aec0", "#2d3748", "#FFFFFF"] }, famousNames: [ { name: '"The Good" Sir James Douglas (c. 1286‚Äì1330)', desc: "The hero of the Wars of Independence, Bruce's right-hand man..." }, { name: 'Archibald Douglas, 5th Earl of Angus (c. 1449‚Äì1513)', desc: 'Known as "Bell the Cat," a powerful "Red Douglas" who dominated Scottish politics...' }, { name: 'James Douglas, 4th Earl of Morton (c. 1516‚Äì1581)', desc: 'A powerful and ruthless Protestant lord who was a key figure in the downfall of Mary, Queen of Scots...' }, ], recipe: { name: "Borders Pan Haggerty", link: "The Douglases were the great Wardens of the Marches, their power base firmly rooted in the Scottish Borders...", ingredients: ["2 lbs waxy potatoes", "2 large onions, thinly sliced", "8 oz strong cheddar cheese, grated", "4 tablespoons beef dripping or butter", "Salt and freshly ground black pepper", "Beef stock or water (optional)"], method: [ "Parboil the potatoes for about 10 minutes until they are just tender...", "In a large, heavy-bottomed, oven-proof frying pan, melt half of the dripping or butter...", "Add the remaining dripping or butter to the pan. Arrange a neat, overlapping layer of sliced potatoes...", "Top the potatoes with a layer of the cooked onions, followed by a generous layer of grated cheese. Repeat the layers...", "Press down firmly. Cook over a medium-low heat on the stovetop for about 20 minutes...", "Transfer the pan to a preheated oven at 400¬∞F (200¬∞C) for a further 20-25 minutes...", "Serve by cutting into wedges directly from the pan..." ] } },
            { name: "Clan Fraser of Lovat", gaelicName: "Na Frisealaich", motto: "Je suis prest (I am ready)", crest: "A buck's head erased Proper", plantBadge: "Yew", warCry: "Caisteal Dhuni! (Castle Dounie!)", territories: "The Aird, Stratherrick (Inverness-shire)", historicSeats: "Castle Dounie (now Beaufort Castle), Castle Fraser", rival: "Clan MacDonald of Clanranald", lore: `The Frasers are a clan of Norman origin, their name likely derived from the French fraise (strawberry)...`, events: [ { year: "c. 1160", event: "Simon Fraser holds lands in East Lothian, marking the family's presence in Scotland." }, { year: "1544", event: "The Battle of the Shirts (Blar-na-L√©ine), a bloody clan battle fought against the MacDonalds of Clanranald." }, { year: "1746", event: "The Clan Fraser fights with distinction for the Jacobite cause at the Battle of Culloden..." }, { year: "1747", event: "Simon Fraser, 11th Lord Lovat, is executed for high treason on Tower Hill in London." }, ], mottoLore: "This French motto reflects the clan's Norman origins and perfectly encapsulates their history...", tartan: { description: "The Fraser of Lovat tartan is a bold and handsome design, dominated by a bright, scarlet red background...", colors: ["#C41E3A", "#004225", "#1a2d57"] }, famousNames: [ { name: 'Simon Fraser, 11th Lord Lovat (c. 1676‚Äì1747)', desc: '"The Old Fox," the archetypal cunning and powerful Highland chief...' }, { name: "Simon Fraser of Lovat (1726‚Äì1782)", desc: "Son of the Old Fox. Despite fighting as a Jacobite, he was later pardoned and became a successful general in the British Army..." }, ], recipe: { name: "Poached Salmon with Heather Honey and Oats", link: "The historic Fraser heartland is the Aird and the glens surrounding the River Beauly...", ingredients: ["4 salmon fillets", "For poaching liquid: water, white wine, lemon, dill, bay leaf", "2 tbsp heather honey", "1 tbsp Scotch whisky", "2 tbsp pinhead oatmeal", "1 tbsp butter"], method: [ "First, prepare the oatmeal topping. In a small, dry frying pan, toast the oatmeal over medium heat until fragrant...", "Prepare the poaching liquid in a wide, shallow pan...", "Gently lower the salmon fillets into the simmering liquid. Poach for 6-10 minutes...", "While the salmon is poaching, prepare the glaze by whisking together the heather honey and the whisky.", "Carefully remove the poached salmon and place it on a serving platter.", "Gently pat the top of the fillets dry, brush with the honey and whisky glaze, and sprinkle with the toasted oatmeal. Serve immediately." ] } },
            { name: "Clan Gordon", gaelicName: "G√≤rdan", motto: "Bydand (Remaining / Abiding)", crest: "From a crest coronet, a buck's head and neck, affront√©, Proper", plantBadge: "Rock Ivy", warCry: "A Gordon! A Gordon!", territories: "Aberdeenshire, The Borders", historicSeats: "Huntly Castle", rival: "Clan Forbes", lore: `The Gordons are a powerful and historic clan of Franco-Norman origin who first settled in the Scottish Borders...`, events: [ { year: "1314", event: "Sir Adam Gordon fights for Robert the Bruce at the Battle of Bannockburn." }, { year: "1449", event: "Alexander Gordon is created 1st Earl of Huntly." }, { year: "1562", event: "The 4th Earl of Huntly is defeated and killed at the Battle of Corrichie..." }, { year: "1794", event: "The 4th Duke of Gordon raises the Gordon Highlanders regiment." }, ], mottoLore: 'This simple, stark motto in Old Scots reflects the clan\'s resilience and their ability to endure...', tartan: { description: "The Gordon tartan is one of the most widely recognized clan tartans...", colors: ["#004225", "#1a2d57", "#FFD700"] }, famousNames: [ { name: "George Gordon, 4th Duke of Gordon (1743‚Äì1827)", desc: "Raised the Gordon Highlanders regiment. His wife, Jane Maxwell, is said to have offered a kiss to any man who would take the King's shilling." }, { name: 'General Charles "Chinese" Gordon (1833‚Äì1885)', desc: "A famous British Army officer and adventurer, renowned for his campaigns in China..." }, ], recipe: { name: "Aberdeen Butteries (Rowies)", link: "The Gordon heartland is Aberdeenshire, and the \"Buttery\" or \"Rowie\" is the region's most famous and unique culinary creation...", ingredients: ["4 cups all-purpose flour", "2 tsp instant yeast", "2 tsp sugar", "2 tsp salt", "1 1/2 cups lukewarm water", "1 cup butter, softened", "1/2 cup lard or shortening, softened"], method: [ "In a large bowl, mix the flour, yeast, sugar, and salt...", "Knead the dough on a floured surface for 10 minutes...", "In a separate bowl, beat the butter and lard together...", "Punch down the risen dough and roll it out into a large rectangle. Spread one-third of the fat mixture over the dough...", "Turn the dough 90 degrees, roll it out again, and spread another third of the fat...", "Roll the dough out one last time and cut it into 12-16 squares...", "Place the butteries on a baking sheet, cover, and let them rest for 30 minutes.", "Preheat the oven to 400¬∞F (200¬∞C). Bake for 15-20 minutes, or until golden brown and flaky. Best served warm." ] } },
            { name: "Clan Grant", gaelicName: "Grannd", motto: "Craig Elachie (Stand Fast)", crest: "A burning hill, Proper", plantBadge: "Scots Pine", warCry: "Stand Fast Craig Elachie!", territories: "Strathspey, Glen Moriston, Glen Urquhart", historicSeats: "Castle Grant", rival: "Clan Gordon", lore: `The Grants are a powerful Highland clan whose name is believed to come from the Norman French le grand, meaning "large" or "great."...`, events: [ { year: "c. 1258", event: "The first record of the Grant family in Strathspey." }, { year: "1314", event: "The Grants support Robert the Bruce in the Wars of Independence." }, { year: "1765", event: "Sir James Grant founds the town of Grantown-on-Spey." }, ], mottoLore: "This motto, which is also the clan's war cry, is a direct command to be resolute and unmoving...", tartan: { description: "The Grant tartan is a handsome and striking pattern. Its primary color is a bright, clear red...", colors: ["#C41E3A", "#004225", "#1a2d57"] }, famousNames: [ { name: "Sir James Grant, 8th Baronet (1738‚Äì1811)", desc: "The founder of Grantown-on-Spey, a visionary and progressive landlord." }, { name: "Ulysses S. Grant (1822‚Äì1885)", desc: "The 18th President of the United States and commanding general of the Union Army..., was of Scottish Grant descent." }, ], recipe: { name: "Speyside Shortbread", link: "The Grant heartland of Strathspey is also the heart of Scotland's whisky industry...", ingredients: ["1 cup all-purpose flour", "1/2 cup butter, softened", "1/4 cup powdered sugar", "1/4 cup cornstarch or rice flour", "1 tablespoon Speyside single malt whisky", "Pinch of salt"], method: [ "Preheat the oven to 325¬∞F (160¬∞C).", "In a bowl, cream the butter and sugar together until light and fluffy.", "In a separate bowl, sift together the flour, cornstarch/rice flour, and salt.", "Gradually add the dry ingredients to the creamed mixture...", "Stir in the whisky.", "Press the dough evenly into an 8-inch round cake pan or a traditional shortbread mold...", "Bake for 30-35 minutes, or until pale golden.", "Let it cool in the pan for 10 minutes before turning it out onto a wire rack to cool completely..." ] } },
            { name: "Clan Guthrie", gaelicName: "Gutraidh", motto: "Sto Pro Veritate (I stand for the truth)", crest: "A dexter arm holding a drawn sword, Proper", plantBadge: "N/A", territories: "Angus", historicSeats: "Guthrie Castle", rival: "Clan Gardyne", lore: `The Guthries are one of the most ancient families of Angus, their name taken directly from the lands they held there for centuries...`, events: [ { year: "1299", event: "The Laird of Guthrie undertakes a mission to France to persuade William Wallace to return to Scotland." }, { year: "1468", event: "Sir David Guthrie receives a royal charter to build Guthrie Castle." }, { year: "1513", event: "Sir Alexander Guthrie, the heir to the chiefship, is killed at the Battle of Flodden." }, { year: "1661", event: "The Reverend James Guthrie is executed in Edinburgh for his Covenanter beliefs..." }, ], mottoLore: 'This is one of the most powerful and historically resonant mottos in all of Scotland...', tartan: { description: "The Guthrie tartan is a handsome and well-balanced design...", colors: ["#004225", "#1a2d57", "#C41E3A"] }, famousNames: [ { name: "Sir David Guthrie of Guthrie (fl. 15th century)", desc: "The great statesman of the clan, who rose to the highest offices in the land..." }, { name: 'Reverend James Guthrie (c. 1612‚Äì1661)', desc: 'Known as "The Martyr of Stirling," he was a leading figure in the Covenanter movement...' }, { name: "Sir James Guthrie (1859-1930)", desc: 'A highly influential Scottish painter who was a leading figure in the "Glasgow Boys."' }, ], recipe: { name: "Arbroath Smokie and Leek Fishcakes", link: "As a clan inextricably linked to Angus, the Guthries share in the region's rich culinary heritage...", ingredients: ["1 lb floury potatoes, boiled and mashed", "2 Arbroath Smokies (approx. 8-10 oz)", "1 medium leek, finely chopped", "1 tbsp butter", "Salt and pepper", "For coating: flour, 1 egg, breadcrumbs", "Vegetable oil for frying"], method: [ "Mash the boiled potatoes thoroughly and set aside to cool completely.", "Remove the skin and bones from the Arbroath Smokies and flake the flesh into a bowl.", "In a small frying pan, melt the butter and gently cook the leek until soft...", "In a large bowl, combine the cold mashed potato, flaked smokie flesh, and cooked leek...", "With floured hands, shape the mixture into 8 round patties. Refrigerate for at least 30 minutes...", "Coat each fishcake first in flour, then in beaten egg, and finally in breadcrumbs.", "Heat about ¬Ω inch of vegetable oil in a large frying pan. Fry the fishcakes for 3-4 minutes per side...", "Drain on a wire rack and serve hot, traditionally with a wedge of lemon." ] } },
            { name: "Clan Hannay", gaelicName: "Mac Annadh", motto: "Per ardua ad alta (Through adversity to the heights)", crest: "A cross crosslet fitch√©e, issuing out of a crescent, Sable", plantBadge: "N/A", warCry: "N/A", territories: "Galloway", historicSeats: "Sorbie Tower", rival: "Clan Murray of Broughton", lore: `The Hannays are an ancient Lowland family whose story is rooted in the wild and independent province of Galloway...`, events: [ { year: "c. 1308", event: "Gilbert de Hannethe is the first of the name recorded." }, { year: "1488", event: "The Hannays acquire the lands of Sorbie." }, { year: "1601", event: "The feud with the Murrays of Broughton culminates in the outlawing of the Clan Hannay." }, { year: "1983", event: "The Lord Lyon recognizes a new chief of the clan after a 350-year dormancy." }, ], mottoLore: "This inspiring Latin motto perfectly encapsulates the modern story of the Clan Hannay...", tartan: { description: "The Hannay tartan is a striking and colourful pattern...", colors: ["#3b82f6", "#facc15", "#ef4444"] }, famousNames: [ { name: "Patrick Hannay (fl. 1620s)", desc: "A poet and courtier at the court of King James VI." }, { name: "James Hannay (1827-1873)", desc: "A Scottish novelist, journalist, and diplomat." }, ], recipe: { name: "Galloway Beef and Ale Pie", link: "The Hannay heartland of Galloway is famous for its high-quality beef cattle...", ingredients: ["2 lbs Galloway beef (or other stewing beef), cubed", "2 tbsp flour", "2 onions, chopped", "2 carrots, chopped", "1 bottle of dark ale", "2 cups beef stock", "1 sheet of puff pastry", "1 egg, beaten"], method: [ "Toss the beef in the flour, seasoned with salt and pepper.", "In a large pot, brown the beef in batches. Set aside.", "In the same pot, cook the onions and carrots until soft.", "Return the beef to the pot, pour in the ale and stock, bring to a simmer, then cover and cook on low for 2-3 hours...", "Pour the stew into a pie dish and let it cool completely.", "Preheat the oven to 400¬∞F (200¬∞C).", "Cover the pie with the puff pastry, trim the edges, and brush with the beaten egg.", "Bake for 20-25 minutes, or until the pastry is golden and puffed up. Serve hot." ] } },
            { name: "Clan Lamont", gaelicName: "MacLaomainn", motto: "Ne parcas nec spernas (Neither spare nor despise)", crest: "A dexter hand couped at the wrist, Proper", plantBadge: "Crab Apple Tree", warCry: "N/A", territories: "Cowal Peninsula (Argyll)", historicSeats: "Ardlamont, Toward Castle", rival: "Clan Campbell", lore: `Clan Lamont is one of Scotland's most ancient clans, with a lineage stretching back to the dawn of the Gaelic kingdom of D√°l Riata...`, events: [ { year: "c. 1200", event: "The Lamonts are established as the lords of Cowal." }, { year: "1646", event: "The Dunoon Massacre, where hundreds of Lamonts are killed by the Campbells." }, { year: "1661", event: "The Campbell leaders responsible for the massacre are brought to justice after the Restoration of the monarchy." }, ], mottoLore: "This enigmatic motto reflects the precarious position of a clan caught between powerful neighbors...", tartan: { description: "The Lamont tartan is a handsome and well-balanced pattern...", colors: ["#1a2d57", "#004225", "#FFFFFF"] }, famousNames: [ { name: "Sir John Lamont, Chief of the Name (d. 1646)", desc: "The chief who surrendered to the Campbells and witnessed the massacre of his clan." }, { name: "Johann von Lamont (1805‚Äì1879)", desc: "A Scottish-German astronomer who made significant contributions to the study of magnetism..." }, ], recipe: { name: "Cowal Venison and Bramble Pie", link: "The Cowal peninsula, the historic heartland of the Lamonts, is a land of wooded hills and glens...", ingredients: ["2 lbs venison stew meat, cubed", "2 tbsp flour", "2 onions, chopped", "2 carrots, chopped", "1 cup red wine", "2 cups beef stock", "1 cup fresh or frozen brambles (blackberries)", "1 sheet of puff pastry", "1 egg, beaten"], method: [ "Toss the venison in the flour, seasoned with salt and pepper.", "In a large pot, brown the venison in batches. Set aside.", "In the same pot, cook the onions and carrots until soft.", "Return the venison to the pot, add the red wine and stock, bring to a simmer, then cover and cook on low for 2 hours...", "Stir in the brambles and cook for another 10 minutes.", "Pour the stew into a pie dish and let it cool completely.", "Preheat the oven to 400¬∞F (200¬∞C).", "Cover the pie with the puff pastry, trim the edges, and brush with the beaten egg. Bake for 20-25 minutes..." ] } },
            { name: "Clan Lindsay", gaelicName: "MacGhille Fhionntaig", motto: "Endure Fort (Endure with Strength)", crest: "Issuing from an antique ducal coronet, the head, neck, and wings of a Swan proper", plantBadge: "Rue / Lime Tree", territories: "Angus, The Borders, Clydesdale, Fife", historicSeats: "Crawford Castle, Edzell Castle, Balcarres House", rival: "Clan Ogilvy", lore: `The story of Clan Lindsay is a testament to the power of strategic integration and feudal mastery...`, events: [ { year: "c. 1120", event: "Sir Walter de Lindsay accompanies David, Earl of Huntingdon, to Scotland, marking the clan's arrival." }, { year: "1320", event: "A David Lindsay's seal is appended to the Declaration of Arbroath." }, { year: "1390", event: "Sir David Lindsay triumphs in a celebrated tournament at London Bridge." }, { year: "1398", event: "Sir David Lindsay is created the 1st Earl of Crawford." }, { year: "1445", event: "The Lindsays fight their rivals Clan Ogilvy at the Battle of Arbroath." }, { year: "1513", event: "The 6th Earl of Crawford is killed alongside his king at the devastating Battle of Flodden." }, ], mottoLore: 'This motto reflects a spirit of profound resilience and steadfastness...', tartan: { description: "The Lindsay tartan is one of the most visually distinctive in Scotland...", colors: ["#800000", "#004225", "#1a2d57"] }, famousNames: [ { name: "Sir David Lindsay, 1st Earl of Crawford (c. 1360‚Äì1407)", desc: "The celebrated knight-errant whose victory at the 1390 tournament on London Bridge became legendary." }, { name: 'Alexander Lindsay, 4th Earl of Crawford (d. 1453)', desc: 'Known to history as "The Tiger Earl" for his ferocious temperament...' }, { name: "Sir David Lindsay of the Mount (c. 1486‚Äì1555)", desc: "A distinguished poet, diplomat, and Lord Lyon King of Arms..." }, ], recipe: { name: "Traditional Dundee Cake", link: "As a preeminent clan of Angus, the Lindsays are tied to the city of Dundee...", ingredients: ["1 cup unsalted butter, softened", "1 cup dark brown sugar", "4 large eggs", "2 cups all-purpose flour", "1 oz ground almonds", "1 tsp baking powder", "2 cups mixed raisins and currants", "‚Öì cup mixed candied citrus peel", "2 tbsp orange zest", "2 tbsp malt whisky (optional)", "¬Ω cup whole blanched almonds for decoration"], method: [ "Preheat the oven to 300¬∞F (150¬∞C). Grease and line an 8-inch round, deep cake pan.", "Cream the butter and sugar together until light and fluffy...", "Sift together the remaining flour, ground almonds, and baking powder...", "Gently fold the dry ingredients into the creamed mixture...", "Spoon the batter into the prepared pan and smooth the top. Arrange the blanched almonds in neat, concentric circles...", "Bake for approximately 2 to 2 ¬Ω hours...", "Allow the cake to cool in the pan for 30 minutes before turning it out onto a wire rack to cool completely." ] } },
            { name: "Clan MacFarlane", gaelicName: "MacPh√†rlain (Son of Parlan)", motto: "This I'll Defend", crest: "A demi-savage brandishing in his dexter a broad sword and pointing with his sinister to an imperial crown, Or", plantBadge: "Cranberry / Cloudberry", warCry: "Loch Sl√≤igh! (The Loch of the Host!)", territories: "Arrochar (shores of Loch Lomond)", historicSeats: "Arrochar, Inveruglas Isle", rival: "Clan Colquhoun", lore: `Clan MacFarlane is one of the most famously warlike of the Highland clans...`, events: [ { year: "c. 1280", event: "The MacFarlanes are established in Arrochar." }, { year: "1547", event: "The clan suffers heavy losses at the Battle of Pinkie." }, { year: "1645", event: "The clan fights for the Royalists at the Battle of Kilsyth." }, ], mottoLore: "This bold and direct motto, combined with the crest of a savage pointing to a crown, is a clear statement of the clan's loyalty to the Scottish monarchy.", tartan: { description: "The MacFarlane tartan is one of the most striking of all clan tartans...", colors: ["#000000", "#FFFFFF", "#C41E3A"] }, famousNames: [ { name: "Andrew MacFarlane, 11th Chief (d. 1513)", desc: "Killed at the Battle of Flodden." }, { name: "Duncan MacFarlane, 13th Chief (d. 1547)", desc: "Killed at the Battle of Pinkie." }, { name: "Walter MacFarlane of that Ilk (d. 1767)", desc: "A renowned antiquarian and genealogist." }, ], recipe: { name: "Arrochar Beef and Cranberry Stew", link: "The MacFarlane lands of Arrochar were wild and mountainous, suitable for raising hardy cattle...", ingredients: ["2 lbs stewing beef, cubed", "2 onions, chopped", "2 carrots, chopped", "1 cup beef stock", "1 cup red wine", "1/2 cup fresh or frozen cranberries", "A few sprigs of thyme"], method: [ "Brown the beef in a large pot. Set aside.", "In the same pot, cook the onions and carrots until soft.", "Return the beef to the pot, add the stock, red wine, and thyme.", "Bring to a simmer, then cover and cook on low for 2-3 hours...", "Stir in the cranberries and cook for a further 15 minutes. Serve hot with crusty bread." ] } },
            { name: "Clan MacIver", gaelicName: "Mac√åomhair (Son of Iver)", motto: "Nunquam obliviscar (I will never forget)", crest: "A boar's head couped, Or", plantBadge: "Bog Myrtle", warCry: "Cruachan!", territories: "Argyll, Caithness, Lochaber", historicSeats: "Asknish House", rival: "N/A (Associated with Clan Campbell)", lore: `The history of Clan MacIver is a complex tapestry woven from ancient origins and powerful, often necessary, alliances...`, events: [ { year: "c. 1221", event: "Iver Crom, the traditional progenitor of the clan, is recorded." }, { year: "1291", event: "The MacIver chief pledges allegiance to the Chief of Clan Campbell..." }, { year: "1564", event: "The MacIver chief is recognized as Captain of the Clan Iver." }, { year: "1981", event: "The Lord Lyon King of Arms recognizes the MacIver chiefship after a long period of dormancy." }, ], mottoLore: 'This motto is a fascinating echo of their great allies, the Campbells, whose motto is Ne Obliviscaris (Forget Not)...', tartan: { description: "The MacIver tartan is a handsome and well-balanced pattern...", colors: ["#004225", "#1a2d57", "#C41E3A"] }, famousNames: [ { name: "Iver Crom (fl. 12th century)", desc: "The semi-legendary progenitor of the clan." }, { name: "Reverend Robert MacIver (1882-1970)", desc: "A Scottish-American sociologist who was a prominent academic and author." }, ], recipe: { name: "Loch Fyne Kipper P√¢t√©", link: "The MacIver heartland of Argyll is dominated by the great sea loch, Loch Fyne...", ingredients: ["2 pairs of Loch Fyne kippers", "1/2 cup cream cheese", "Juice of 1 lemon", "Freshly ground black pepper", "2 tbsp chopped fresh parsley", "Oatcakes to serve"], method: [ "Cook the kippers according to the packet instructions (usually by grilling or poaching).", "Once cooked, carefully remove the skin and bones from the kippers and flake the flesh into a bowl.", "Add the cream cheese, lemon juice, and a generous amount of black pepper to the flaked kipper.", "Mash everything together with a fork until well combined but still retaining some texture.", "Stir in the chopped parsley.", "Chill for at least 30 minutes before serving with oatcakes." ] } },
            { name: "Clan Maclean", gaelicName: "Mac'Ill'Eathain (Son of the Servant of St. John)", motto: "Virtue Mine Honour", crest: "A tower embattled, Argent", plantBadge: "Crowberry", warCry: "Fear eil' air son Eachainn! (Another for Hector!)", territories: "Isle of Mull, Morvern, Coll, Tiree", historicSeats: "Duart Castle", rival: "Clan Campbell", lore: `Clan Maclean is one of the most renowned and romantic of the great West Highland clans...`, events: [ { year: "c. 1250", event: "Life of Gillean of the Battle Axe, founder of the clan." }, { year: "1598", event: "The Battle of Traigh Ghruinneart on Islay, a bloody feud battle between the Macleans and the MacDonalds." }, { year: "1651", event: "The Battle of Inverkeithing, where the clan suffers heavy losses fighting for the Royalist cause." }, { year: "1911", event: "Sir Fitzroy Maclean buys back and begins the restoration of Duart Castle." }, ], mottoLore: "This motto places virtue as the source of honour, reflecting a chivalric code that valued integrity, bravery, and loyalty above all else.", tartan: { description: "There are two main Maclean tartans. The Maclean of Duart (Red) is the most common...", colors: ["#C41E3A", "#004225", "#1a2d57"] }, famousNames: [ { name: "Lachlan Mor Maclean, 14th Chief (1558-1598)", desc: "A powerful and warlike chief who was killed in the feud battle of Traigh Ghruinneart against the MacDonalds." }, { name: "Sir Fitzroy Maclean, 1st Baronet (1911-1990)", desc: "A distinguished soldier, diplomat, and adventurer, said to be one of the inspirations for Ian Fleming's James Bond." }, ], recipe: { name: "Mull Cheddar and Leek Tart", link: "The Isle of Mull is the historic heartland of the Macleans...", ingredients: ["1 sheet of puff pastry", "2 large leeks, sliced", "1 tbsp butter", "1 cup grated Isle of Mull Cheddar", "1/2 cup heavy cream", "2 eggs, beaten", "Salt and pepper"], method: [ "Preheat the oven to 400¬∞F (200¬∞C).", "Line a tart tin with the puff pastry. Prick the base with a fork, line with baking paper, fill with baking beans, and bake blind for 15 minutes.", "While the pastry bakes, melt the butter in a pan and gently cook the sliced leeks until soft.", "Remove the baking beans and paper from the pastry case. Spread the cooked leeks over the base and sprinkle with the grated cheese.", "In a bowl, whisk together the beaten eggs and cream. Season with salt and pepper.", "Pour the egg mixture over the leeks and cheese.", "Bake for a further 20-25 minutes, or until the filling is set and golden. Serve warm or at room temperature." ] } },
            { name: "Clan MacNab", gaelicName: "Mac an Aba (Son of the Abbot)", motto: "Timor Omnis Abesto (Let fear be far from all)", crest: "The head of a savage, affront√©, Proper", plantBadge: "Common Stone-Bramble", warCry: "Bovain!", territories: "Glen Dochart, Strathfillan (Perthshire)", historicSeats: "Eilean Ran, Kinnell House", rival: "Clan Neish", lore: `Clan MacNab is an ancient clan from the Perthshire Highlands...`, events: [ { year: "1314", event: "The MacNabs fight against Robert the Bruce at the Battle of Bannockburn, and their lands are forfeited." }, { year: "1612", event: "The Battle of Glen Boultachan, where the twelve sons of the MacNab chief defeat the Clan Neish." }, { year: "1825", event: 'Archibald MacNab, the 16th chief, establishes "The MacNab" township in Canada.' }, ], mottoLore: "This bold Latin motto perfectly captures the spirit of a small but famously fearless clan.", tartan: { description: "The MacNab tartan is a striking and colourful pattern...", colors: ["#C41E3A", "#004225", "#FFFFFF"] }, famousNames: [ { name: '"Smooth John" MacNab (fl. 17th century)', desc: "The hero of the Battle of Glen Boultachan." }, { name: "Francis MacNab, 16th Chief (1734‚Äì1816)", desc: "A larger-than-life character, known for his extravagant lifestyle..." }, ], recipe: { name: "Loch Tay Trout with Wild Garlic and Butter", link: "The MacNab heartland is the area around Loch Tay in Perthshire...", ingredients: ["2 whole trout, cleaned", "2 tbsp butter", "A large handful of wild garlic leaves, washed and chopped", "Juice of 1/2 lemon", "Salt and pepper"], method: [ "Season the trout inside and out with salt and pepper.", "Melt the butter in a large frying pan over medium heat.", "Place the trout in the pan and cook for 5-7 minutes per side...", "In the last minute of cooking, add the chopped wild garlic to the pan and let it wilt in the hot butter.", "Squeeze the lemon juice over the fish and serve immediately..." ] } },
            { name: "Clan Macpherson", gaelicName: "Mac a' Phearsain (Son of the Parson)", motto: "Touch not the cat bot a glove", crest: "A seated wildcat, Proper", plantBadge: "White Heather / Boxwood", warCry: "Creag Dhubh! (The Black Rock!)", territories: "Badenoch", historicSeats: "Cluny Castle", rival: "Clan Mackintosh", lore: `Clan Macpherson is one of the principal clans of the great Clan Chattan confederation...`, events: [ { year: "1396", event: "The Macphersons fight in the Battle of the North Inch in Perth." }, { year: "1745", event: "Ewen Macpherson of Cluny leads the clan in the Jacobite Rising." }, { year: "1746-1755", event: 'Cluny Macpherson successfully evades capture for nine years after Culloden...' }, ], mottoLore: 'This is the famous motto of the Clan Chattan confederation, adopted by the Macphersons...', tartan: { description: "The Macpherson tartan is a striking and distinctive pattern...", colors: ["#FFFFFF", "#000000", "#C41E3A"] }, famousNames: [ { name: "Ewen Macpherson of Cluny (1706‚Äì1764)", desc: "The charismatic Jacobite chief who led the clan in the '45 and famously evaded capture for nine years." }, { name: "James Macpherson (1736‚Äì1796)", desc: 'The controversial Scottish poet who "discovered" and published the Ossian poems...' }, ], recipe: { name: "Cluny Lamb and Barley Hotpot", link: "The Macpherson heartland of Badenoch is a region of high moorland and mountains...", ingredients: ["2 lbs lamb shoulder, cubed", "2 large onions, sliced", "2 carrots, sliced", "1/2 cup pearl barley, rinsed", "4 cups lamb or beef stock", "A few sprigs of rosemary or thyme", "2 lbs potatoes, thinly sliced"], method: [ "Preheat the oven to 325¬∞F (160¬∞C).", "In a large, oven-proof casserole dish, layer the sliced onions, carrots, and cubed lamb.", "Sprinkle the rinsed pearl barley over the meat and vegetables. Add the rosemary or thyme.", "Pour in the stock and season well with salt and pepper.", "Arrange the thinly sliced potatoes in an overlapping layer on top of the stew...", "Cover the dish with a tight-fitting lid and bake in the oven for 2 hours.", "Remove the lid and bake for a further 30-45 minutes, or until the potato topping is golden brown and crisp. Serve hot." ] } },
            { name: "Clan Morrison", gaelicName: "MacGille Mhoire (Son of the Servant of St. Mary)", motto: "Teaghlach Phabbay (The Pabbay Family)", crest: "A serpent's head erased, issuing from the sea, Proper", plantBadge: "Driftwood", warCry: "N/A", territories: "Isle of Lewis, Harris, The mainland", historicSeats: "Dun Eistein (Isle of Lewis)", rival: "Clan MacLeod, Clan Mackenzie", lore: `The Morrisons are a clan with diverse and ancient origins...`, events: [ { year: "c. 1300", event: "The Morrisons are established as the hereditary Brieves of Lewis." }, { year: "1601", event: "The Battle of Carinish, where the Morrisons and MacLeods are defeated by the MacDonalds of Uist." }, { year: "1613", event: "The last Brieve of Lewis is executed by the Mackenzies." }, { year: "1965", event: "The Lord Lyon King of Arms recognizes a new chief of the Clan Morrison." }, ], mottoLore: "This Gaelic motto refers to the island of Pabbay in the Sound of Harris, one of the clan's ancient homelands.", tartan: { description: "The Morrison tartan is a handsome and colourful pattern...", colors: ["#004225", "#1a2d57", "#C41E3A"] }, famousNames: [ { name: "John Morrison (1906-1996)", desc: "A prominent 20th-century Gaelic poet from Lewis." }, { name: "Peter Morrison (1944-1995)", desc: "A British Conservative politician who served as Minister of State for Energy." }, ], recipe: { name: "Lewis Lamb and Barley Broth with Dulse", link: "The Morrisons of Lewis were a people of the sea and the land...", ingredients: ["1 lb lamb neck or shoulder, on the bone", "1/2 cup pearl barley", "2 carrots, chopped", "2 leeks, chopped", "1 onion, chopped", "1/4 cup dried dulse, rinsed and chopped"], method: [ "Place the lamb in a large pot with 2 quarts of water. Bring to a boil, skim, then simmer for 1 hour.", "Add the barley, carrots, leeks, and onion. Simmer for another hour.", "Stir in the chopped dulse and simmer for a final 15 minutes.", "Remove the lamb from the pot, shred the meat from the bones, and return the meat to the soup.", "Season with salt and pepper to taste. Serve hot." ] } },
            { name: "Clan Murray", gaelicName: "Clann Mhuirich", motto: "Furth Fortune and Fill the Fetters", crest: "A demi-savage holding in his right hand a dagger and in his left a key, all Proper", plantBadge: "Butcher's Broom / Juniper", warCry: "Dh√πn √àideann! (Dunedin!)", territories: "Moray, Atholl, Tullibardine (Perthshire)", historicSeats: "Blair Castle", rival: "N/A (Notable Association: Jacobite Risings)", lore: `The Murrays are a clan of immense power and prestige, their origins tracing back to a Flemish nobleman named Freskin...`, events: [ { year: "1297", event: "Sir Andrew Murray, co-commander of the Scottish army with William Wallace, is killed at the Battle of Stirling Bridge." }, { year: "1703", event: "The chief is elevated to the rank of Duke of Atholl." }, { year: "1745", event: "Lord George Murray serves as Lieutenant-General of the Jacobite army..." }, { year: "1845", event: "Queen Victoria grants the Duke of Atholl the right to maintain a private army, the Atholl Highlanders." }, ], mottoLore: "This ancient and warlike motto, meaning 'Go forth against your enemies, have good fortune, and return with captives,' reflects the martial spirit and feudal power of the clan in its early days.", tartan: { description: "The most common Murray tartan is the Murray of Atholl, a vibrant and complex pattern...", colors: ["#1a2d57", "#004225", "#C41E3A"] }, famousNames: [ { name: "Sir Andrew Murray (d. 1297)", desc: "The co-victor of Stirling Bridge and a hero of the Wars of Independence." }, { name: "Lord George Murray (1694‚Äì1760)", desc: "The brilliant Jacobite general who was the mastermind behind Bonnie Prince Charlie's military campaigns." }, ], recipe: { name: "Cranachan", link: "Cranachan is a classic Scottish dessert that perfectly represents the bounty of Perthshire...", ingredients: ["1/2 cup steel-cut or pinhead oats", "4 tbsp Scotch whisky", "2 tbsp honey", "1 pint (2 cups) fresh raspberries", "1 cup heavy (double) cream"], method: [ "Toast the oatmeal in a dry pan over medium heat until fragrant...", "In a bowl, gently crush about half of the raspberries with a fork...", "In a separate bowl, whip the heavy cream until it forms soft peaks. Fold in the whisky and honey.", "Gently fold the toasted oats and the crushed raspberries into the whipped cream mixture.", "In serving glasses, layer the cream mixture with the whole raspberries.", "Chill for at least an hour before serving..." ] } },
            { name: "Clan Robertson", gaelicName: "Clann Donnchaidh (Children of Duncan)", motto: "Virtutis Gloria Merces (Glory is the Reward of Valour)", crest: "A dexter hand holding up an imperial crown, Proper", plantBadge: "Bracken / Fine-leafed Heath", warCry: "Garg'n uair dhuisgear! (Fierce when Roused!)", territories: "Atholl (Perthshire)", historicSeats: "Dunalastair / The Barony of Struan", rival: "N/A (Notable Association: Jacobite Risings)", lore: `Clan Robertson, known in Gaelic as Clann Donnchaidh (the Children of Duncan), is one of the oldest clans in Scotland...`, events: [ { year: "1314", event: "The clan fights for Robert the Bruce at the Battle of Bannockburn." }, { year: "1437", event: "Robert Riach, the 4th chief, captures the assassins of King James I." }, { year: "1451", event: "The clan's lands are erected into the Barony of Struan." }, { year: "1746", event: "The clan fights at the Battle of Culloden." }, ], mottoLore: "This classical motto was adopted after the clan's heroic capture of the king's assassins...", tartan: { description: "The Robertson tartan is a striking and colourful pattern...", colors: ["#C41E3A", "#004225", "#1a2d57"] }, famousNames: [ { name: "Robert Riach of Struan, 4th Chief (fl. 1437-1460)", desc: "The hero who captured the regicides of King James I and for whom the clan is named." }, { name: "Alexander Robertson of Struan, 13th Chief (c. 1670‚Äì1749)", desc: "The Jacobite poet chief who fought in three rebellions..." }, ], recipe: { name: "Atholl Brose", link: "Atholl Brose is a traditional Scottish drink of whisky, oats, honey, and cream...", ingredients: ["1/2 cup steel-cut or pinhead oats", "1 cup water", "1 cup Scotch whisky", "1/2 cup honey", "1 cup heavy (double) cream"], method: [ "Soak the oatmeal in the water for at least an hour, or overnight.", "Strain the liquid from the oats through a fine sieve or cheesecloth...", "In a bowl, mix the oat-infused liquid with the whisky and honey until the honey is fully dissolved.", "Gently whisk in the heavy cream until the mixture is smooth and well combined.", "Chill thoroughly before serving in small glasses." ] } },
            { name: "Clan Scott", gaelicName: "MacScuit", motto: "Amo (I Love)", crest: "A stag trippant, Proper", plantBadge: "Blaeberry (Bilberry)", warCry: "A Bellendaine!", territories: "The Scottish Borders (Teviotdale, Liddesdale, Eskdale)", historicSeats: "Abbotsford House, Bowhill House, Dalkeith Palace", rival: "Clan Kerr", lore: `Clan Scott is one of the most powerful and famous of the great riding clans of the Scottish Borders...`, events: [ { year: "1455", event: "The Scotts are rewarded with the lands of Buccleuch for their loyalty to the king..." }, { year: "1596", event: 'The "Bold Buccleuch" rescues Kinmont Willie Armstrong from Carlisle Castle.' }, { year: "1663", event: "Anne Scott, Countess of Buccleuch, marries the Duke of Monmouth..." }, { year: "1771-1832", event: "Life of Sir Walter Scott, the great novelist." }, ], mottoLore: "This simple and elegant motto stands in stark contrast to the violent history of the Border Reivers...", tartan: { description: "The Scott tartan is a handsome and well-balanced pattern...", colors: ["#004225", "#1a2d57", "#C41E3A"] }, famousNames: [ { name: 'Sir Walter Scott of Buccleuch, "The Bold Buccleuch" (c. 1565‚Äì1611)', desc: "The famous Border Reiver and Warden of the Marches." }, { name: "Sir Walter Scott (1771‚Äì1832)", desc: "The world-renowned novelist, poet, and historian who single-handedly reshaped the world's perception of Scotland." }, ], recipe: { name: "Border Tart", link: "The Border Tart is a classic sweet pastry from the Scottish Borders...", ingredients: ["For pastry: 1 1/2 cups all-purpose flour, 1/2 cup cold butter", "For filling: 1 cup mixed dried fruit, 1/2 cup brown sugar, 1/4 cup melted butter, 1 egg, 1/2 tsp cinnamon"], method: [ "To make the pastry, rub the butter into the flour until it resembles breadcrumbs...", "Roll out the pastry and use it to line an 8-inch tart tin.", "In a bowl, mix together all the filling ingredients.", "Pour the filling into the pastry case.", "Bake at 375¬∞F (190¬∞C) for 25-30 minutes, or until the pastry is golden and the filling is set. Serve warm or cold." ] } },
            { name: "Clan Sinclair", gaelicName: "Mac na Ce√†rda", motto: "Commit thy work to God", crest: "A cock, Proper", plantBadge: "Whin (Gorse)", warCry: "Girnigoe! Girnigoe!", territories: "Caithness, Orkney, The Lothians", historicSeats: "Rosslyn Chapel, Castle Sinclair Girnigoe", rival: "Clan Gunn", lore: `The Sinclairs are a clan of noble Norman origin...`, events: [ { year: "1379", event: "Henry Sinclair becomes Earl of Orkney." }, { year: "c. 1400", event: "The alleged voyage of Earl Henry Sinclair to North America." }, { year: "1446", event: "William Sinclair, 3rd Earl of Orkney, begins the construction of Rosslyn Chapel." }, { year: "1470", event: "The Earldom of Orkney is annexed by the Scottish Crown." }, ], mottoLore: "This pious motto reflects a deep sense of faith and destiny...", tartan: { description: "The Sinclair tartan is a handsome and popular pattern...", colors: ["#004225", "#1a2d57", "#C41E3A"] }, famousNames: [ { name: "Henry Sinclair, Earl of Orkney (c. 1345‚Äìc. 1400)", desc: "The sea-lord who, according to legend, voyaged to North America." }, { name: "William Sinclair, 1st Earl of Caithness (d. 1484)", desc: "The founder of Rosslyn Chapel and one of the most powerful nobles of his time." }, ], recipe: { name: "Orkney Grimbister Cheese Souffl√©", link: "The Sinclairs were the great Earls of Orkney for over a century...", ingredients: ["1/4 cup butter", "1/4 cup all-purpose flour", "1 cup milk, warmed", "4 eggs, separated", "1 cup crumbled Orkney Grimbister cheese", "Salt and pepper"], method: [ "Preheat the oven to 375¬∞F (190¬∞C). Butter a 1-quart souffl√© dish.", "In a saucepan, melt the butter, stir in the flour, and cook for 1 minute to make a roux.", "Gradually whisk in the warm milk until the sauce is smooth and thick...", "Beat the egg yolks into the sauce one at a time. Stir in the crumbled cheese and season...", "In a separate, clean bowl, whisk the egg whites until they form stiff peaks.", "Gently fold one-third of the egg whites into the cheese sauce to lighten it, then carefully fold in the remaining whites.", "Pour the mixture into the prepared souffl√© dish and bake for 25-30 minutes... Serve immediately." ] } },
            { name: "Clan Stewart", gaelicName: "Sti√πbhart", motto: "Virescit vulnere virtus (Courage grows strong at a wound)", crest: "A pelican in her piety, Argent, winged Or", plantBadge: "Oak / Thistle", warCry: "Creag an Sgairbh! (The Cormorant's Rock!)", territories: "Renfrewshire, Teviotdale, The Lennox, Appin", historicSeats: "Dundonald Castle, Stirling Castle, Edinburgh Castle", rival: "Clan Douglas", lore: `The story of Clan Stewart is inseparable from the history of Scotland itself...`, events: [ { year: "1371", event: "Robert Stewart, the 6th High Steward, becomes King Robert II, the first Stewart monarch." }, { year: "1542-1567", event: "Reign of Mary, Queen of Scots." }, { year: "1603", event: "King James VI of Scotland becomes King James I of England, uniting the crowns." }, { year: "1746", event: "The Stewarts of Appin suffer heavy losses fighting for the Jacobite cause at the Battle of Culloden." }, ], mottoLore: "This poignant motto reflects the resilience of a dynasty that faced constant challenges...", tartan: { description: "There are many Stewart tartans, but the most famous is the Royal Stewart tartan...", colors: ["#C41E3A", "#1a2d57", "#FFD700"] }, famousNames: [ { name: "Mary, Queen of Scots (1542‚Äì1587)", desc: "The tragic and romantic queen whose life of political intrigue ended with her execution in England." }, { name: "James VI and I (1566‚Äì1625)", desc: 'The "wisest fool in Christendom," who united the Scottish and English crowns.' }, { name: "Bonnie Prince Charlie (Charles Edward Stuart, 1720‚Äì1788)", desc: 'The "Young Pretender" who led the final, doomed Jacobite Rising of 1745.' }, ], recipe: { name: "Scotch Broth", link: "Scotch Broth is a hearty, nourishing soup that can be considered the national dish of Scotland...", ingredients: ["1 lb lamb or mutton neck", "3 quarts water", "1/2 cup pearl barley, rinsed", "1 large onion, chopped", "2 carrots, chopped", "2 leeks, washed and sliced", "1 small turnip or rutabaga, chopped", "Chopped parsley", "Salt and pepper"], method: [ "Place the lamb/mutton in a large stockpot with the water. Bring to a boil, skimming off any scum...", "Add the rinsed pearl barley, reduce the heat, cover, and simmer gently for 1 hour.", "Add the chopped onion, carrots, and turnip. Season with salt and pepper. Continue to simmer for another hour.", "Add the sliced leeks and cook for a final 30 minutes...", "Remove the meat from the pot. Shred the meat from the bones and discard the bones. Return the shredded meat to the soup.", "Check the seasoning and add more salt and pepper if needed. Stir in a generous amount of chopped fresh parsley before serving." ] } },
        ];
        
        const legendsData = [
             { 
                name: "The Brahan Seer", 
                title: "Coinneach Odhar, The Gaelic Nostradamus", 
                lore: `In the rich tapestry of Highland folklore, few figures loom as large or as tragically as Coinneach Odhar, the Brahan Seer. Said to have lived in the 17th century, he was the Gaelic Nostradamus, a man whose visions, granted to him by a magical "seeing stone," foretold the great triumphs and calamities of Scotland with uncanny accuracy. While his prophecies spanned the breadth of the nation, his story is inextricably, and fatally, intertwined with that of his patrons, the powerful MacKenzies of Seaforth.\n\nCoinneach's gift was not one of comfort. It was a second sight that saw the blood on the heather at Culloden, the coming of the Highland Clearances ("the day of the great sheep"), and the building of the Caledonian Canal. His visions were often couched in poetic, ambiguous language, their true meaning only becoming clear when the terrible events they described came to pass.\n\nThe Seer's downfall came through the pride of the powerful. While Kenneth MacKenzie, the 3rd Earl of Seaforth, was away in Paris, his wife, Countess Isabella, summoned Coinneach and demanded to know of her husband's activities. Reluctantly, the Seer raised his seeing stone and told her the truth: he saw the Earl with another, more beautiful woman. Enraged, the Countess accused him of witchcraft and had him seized. As he was dragged away, Coinneach uttered his final, terrible prophecy‚Äîthe Doom of the Seaforths. He foretold that the direct line of the MacKenzie chiefs would end with a deaf-mute heir who would see his four sons die before him. He was then executed by being burned in a barrel of tar. Over the next 150 years, his prophecy came true in every chilling detail, cementing his legend as Scotland's greatest prophet.`,
                recipe: {
                    name: "Seer's Brose with a Dram",
                    link: "A simple, fortifying meal for a man of the people. Brose is a traditional, instant porridge made with oats and water, perfect for a seer needing quick sustenance before a long vision. A splash of whisky warms the soul for the chilling truths to come.",
                    ingredients: ["1/2 cup pinhead or coarse oatmeal", "Pinch of salt", "1 tbsp butter (optional)", "1 tbsp honey or to taste", "Boiling water", "1 tbsp single malt whisky"],
                    method: [
                        "Place the oatmeal and salt in a sturdy bowl.",
                        "Add the butter, if using, and the honey.",
                        "Pour over just enough boiling water to cover the oats. Stir vigorously with a spoon or a spurtle.",
                        "Cover the bowl with a plate and let it stand for 5-10 minutes until the water is absorbed and the oats have softened.",
                        "Stir in the whisky just before eating.",
                        "Enjoy this simple, warming meal by the hearth, perhaps contemplating the future."
                    ]
                }
            },
             { 
                name: "Rob Roy MacGregor", 
                title: "The Highland Rogue", 
                lore: `Robert "Rob Roy" MacGregor (1671‚Äì1734) was a real historical figure, a cattleman, and a Jacobite from the fiercely independent but persecuted Clan Gregor. His life as an outlaw and his feud with the powerful Duke of Montrose transformed him into a living legend, a figure often romanticized as the "Scottish Robin Hood."\n\nHis life took a dramatic turn in 1712 when a cattle deal, funded by a loan from the Duke of Montrose, went wrong. When his chief drover absconded with the money, Rob Roy defaulted on the loan. The Duke declared him an outlaw, seized his lands, and burned his home. This act of retribution sparked a personal war. Rob Roy began a campaign of raiding the Duke's lands, stealing his cattle and humiliating his factor, Graham of Killearn. The legends of his exploits celebrate his cunning and audacity, portraying him as a charismatic rogue who outwits the powerful and champions the common man. These stories were popularized in his own lifetime and later immortalized by Sir Walter Scott's 1817 novel, *Rob Roy*, transforming the historical cattle-thief into an enduring symbol of Highland defiance.`,
                recipe: {
                    name: "Whisky-Glazed Stolen Beef",
                    link: "A dish fit for an outlaw. This recipe imagines Rob Roy enjoying the fruits of a successful cattle raid, cooking the beef over an open fire in a hidden glen, with a splash of whisky to celebrate his victory over the Duke's men.",
                    ingredients: ["2 lbs beef steak (sirloin or ribeye), thick-cut", "2 tbsp olive oil", "Salt and freshly ground black pepper", "For the glaze: 1/4 cup Scotch whisky, 2 tbsp brown sugar, 1 tbsp soy sauce, 1 clove garlic, minced"],
                    method: [
                        "Rub the steaks with olive oil and season generously with salt and pepper. Let them come to room temperature.",
                        "In a small bowl, whisk together the whisky, brown sugar, soy sauce, and minced garlic to create the glaze.",
                        "Heat a heavy griddle pan or barbecue to a high heat.",
                        "Sear the steaks for 3-4 minutes per side for medium-rare, or to your liking.",
                        "In the last minute of cooking, brush the glaze generously over both sides of the steak, allowing it to caramelize.",
                        "Remove the steaks from the heat and let them rest for 5-10 minutes before slicing.",
                        "Serve with a dram of the same whisky used in the glaze, and toast to the Highland rogue."
                    ]
                }
            },
             { 
                name: "The Marquess of Montrose", 
                title: "The Poet General", 
                lore: `James Graham, 1st Marquess of Montrose (1612-1650), was a figure of dazzling contradictions: a poet and a brilliant, ruthless general; a signatory of the National Covenant who became the King's champion in Scotland. During the Wars of the Three Kingdoms, he waged a year-long, lightning campaign of victories for King Charles I, a series of stunning successes against the odds that became known as the "Year of Miracles." His eventual defeat, betrayal, and execution were as dramatic as his life. He was hanged in Edinburgh, his body dismembered and his head placed on a spike on the Tolbooth. His story is one of romantic, tragic loyalty to a doomed cause.`,
                recipe: {
                    name: "Covenanter's Clapshot",
                    link: "A humble but hearty dish for a soldier on a long march. Clapshot, a mix of mashed potatoes and turnips (neeps), is a staple of the Scottish diet. It's the kind of food that would have fueled the armies on both sides of the civil war Montrose fought in. A simple meal for a complex man.",
                    ingredients: ["2 lbs potatoes, peeled and chopped", "1 lb turnip (rutabaga), peeled and chopped", "4 tbsp butter", "Splash of milk or cream", "Salt and black pepper", "Chives, chopped, for garnish"],
                    method: [
                        "Boil the potatoes and turnips in separate pots of salted water until very tender.",
                        "Drain both vegetables thoroughly and return them to their pots over a low heat for a minute to drive off any excess steam.",
                        "Combine the potatoes and turnips in one large bowl. Mash them together, leaving it slightly coarse, not perfectly smooth.",
                        "Beat in the butter and enough milk or cream to achieve a creamy consistency.",
                        "Season generously with salt and a good deal of black pepper.",
                        "Stir in the chopped chives and serve hot, perhaps alongside sausages or a meat pie."
                    ]
                }
            },
             { 
                name: "Bonnie Prince Charlie", 
                title: "The Young Pretender", 
                lore: `Charles Edward Stuart (1720-1788), known to history as Bonnie Prince Charlie, is the romantic, tragic hero of the final Jacobite Rising of 1745. Landing in Scotland with just seven men, his charisma and the power of the Stuart name were enough to rally many of the Highland clans to his cause. He led his army on a remarkable invasion of England, reaching as far as Derby before the controversial decision to retreat was made.\n\nHis campaign ended in a brutal and decisive defeat at the Battle of Culloden in 1746. The aftermath saw Charles become a fugitive, with a massive bounty on his head. For five months, he wandered the Highlands and Islands, protected by loyal followers like Flora MacDonald, before finally escaping to France. He would spend the rest of his life in exile, a broken man who never set foot in Scotland again. His story is one of initial triumph, heartbreaking failure, and enduring legend.`,
                recipe: {
                    name: "Drambuie and Raspberry Fool",
                    link: "A dessert that tastes of romance and tragedy. Drambuie is a whisky liqueur famously associated with Bonnie Prince Charlie; legend says he gave the secret recipe to a MacKinnon clansman as a reward for his loyalty after Culloden. This simple dessert combines that legendary liqueur with the sharp sweetness of Scottish raspberries.",
                    ingredients: ["1 pint heavy (double) cream", "1 pint fresh raspberries", "3 tbsp Drambuie liqueur", "2 tbsp powdered sugar", "Toasted oatmeal or crushed shortbread for topping"],
                    method: [
                        "In a bowl, gently crush about three-quarters of the raspberries with a fork, leaving some texture.",
                        "In a separate, chilled bowl, whip the heavy cream and powdered sugar until it forms soft peaks.",
                        "Gently fold the Drambuie and the crushed raspberries into the whipped cream, creating a marbled effect.",
                        "Spoon the mixture into serving glasses, layering it with the remaining whole raspberries.",
                        "Chill for at least an hour before serving.",
                        "Top with a sprinkle of toasted oatmeal or crushed shortbread just before serving."
                    ]
                }
            }
        ];

        // --- INITIALIZATION ---
        initNav();
        setupDossierPage({
            sectionId: 'clans-section',
            mainContentId: 'clans-main-content',
            listData: [{ title: 'The Great Clans', data: clanData, type: 'clan', displayFn: displayClan }]
        });
        setupDossierPage({
            sectionId: 'legends-section',
            mainContentId: 'legends-main-content',
            listData: [{ title: 'Legendary Figures', data: legendsData, type: 'figure', displayFn: displayFigure }]
        });
        initTartanBuilder(); 
        initRecipeBook();

        // --- NAVIGATION ---
        function initNav() {
            const navLinks = document.querySelectorAll('.nav-link');
            const pageSections = document.querySelectorAll('.page-section');
            const mobileMenuBtn = document.getElementById('mobile-menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');

            navLinks.forEach(link => {
                link.addEventListener('click', () => {
                    const targetId = link.dataset.target + '-section';
                    pageSections.forEach(section => section.classList.toggle('active', section.id === targetId));
                    navLinks.forEach(nav => nav.classList.remove('active'));
                    document.querySelectorAll(`.nav-link[data-target="${link.dataset.target}"]`).forEach(l => l.classList.add('active'));
                    
                    if (targetId.includes('clans') || targetId.includes('legends') || targetId.includes('tartan')) {
                         setTimeout(() => {
                            window.dispatchEvent(new Event('resize'));
                        }, 50);
                    }
                    mobileMenu.classList.add('hidden');
                });
            });
            
            mobileMenuBtn.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });

            document.querySelector('.nav-link[data-target="home"]').classList.add('active');
            document.getElementById('home-section').classList.add('active');
        }

        // --- DOSSIER PAGE SETUP (CLANS & LEGENDS) ---
        function setupDossierPage(config) {
            const sectionEl = document.getElementById(config.sectionId);
            if (!sectionEl) return;

            const mainContentEl = document.getElementById(config.mainContentId);
            const sidebarContentEl = sectionEl.querySelector('.sidebar-scroll');

            sidebarContentEl.innerHTML = ''; // Clear existing content
            config.listData.forEach(list => {
                const sortedData = [...list.data].sort((a, b) => a.name.localeCompare(b.name));
                
                const heading = document.createElement('h3');
                heading.className = 'text-xs font-semibold uppercase text-stone-500 tracking-wider px-4 mb-2';
                heading.textContent = list.title;
                sidebarContentEl.appendChild(heading);
                
                const listEl = document.createElement('div');
                sortedData.forEach(item => {
                    const button = document.createElement('button');
                    button.textContent = item.name;
                    button.dataset.name = item.name;
                    button.dataset.type = list.type;
                    button.className = 'block w-full text-left px-4 py-2 rounded-md text-stone-600 hover:bg-stone-200 transition-colors duration-150';
                    button.addEventListener('click', () => list.displayFn(item.name, mainContentEl, sidebarContentEl));
                    listEl.appendChild(button);
                });
                sidebarContentEl.appendChild(listEl);
            });

            // Display the first item by default
            if (config.listData.length > 0 && config.listData[0].data.length > 0) {
                const firstList = config.listData[0];
                const firstItemName = [...firstList.data].sort((a, b) => a.name.localeCompare(b.name))[0].name;
                firstList.displayFn(firstItemName, mainContentEl, sidebarContentEl);
            }
        }

        function updateActiveItem(name, type, sidebarEl) {
            if (!sidebarEl) return;
            sidebarEl.querySelectorAll('.active-item').forEach(el => el.classList.remove('active-item'));
            const activeItem = sidebarEl.querySelector(`[data-type="${type}"][data-name="${name}"]`);
            if (activeItem) {
                activeItem.classList.add('active-item');
            }
        }

        function setupTabs(container) {
            const tabs = container.querySelectorAll('.tab-button');
            const tabContents = container.querySelectorAll('.tab-content');
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    tabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    tabContents.forEach(content => content.classList.remove('active'));
                    const contentEl = container.querySelector(`#${tab.dataset.tab}-content`);
                    if (contentEl) contentEl.classList.add('active');
                });
            });
        }

        function generateTartanHTML(colors) {
            if (!colors || colors.length < 2) return '<div class="w-full h-32 bg-stone-200 flex items-center justify-center rounded-md"><span class="text-stone-500">Tartan not available</span></div>';
            const [c1, c2, c3, c4] = colors;
            const pattern = `
                linear-gradient(90deg, ${c2}80 20%, transparent 20%),
                linear-gradient(${c3 || c2}80 20%, transparent 20%),
                linear-gradient(90deg, ${c4 || c1}40 50%, transparent 50%),
                linear-gradient(${c4 || c1}40 50%, transparent 50%)
            `;
            return `<div class="w-full h-32 rounded-md overflow-hidden" style="background-color: ${c1}; background-image: ${pattern}; background-size: 25px 25px;"></div>`;
        }

        function displayClan(clanName, mainContentEl, sidebarEl) {
            const clan = clanData.find(c => c.name === clanName);
            if (!clan) return;

            mainContentEl.innerHTML = `
                <div class="mb-6 animate-fade-in">
                    <h1 class="text-4xl font-bold text-stone-900 font-title">${clan.name}</h1>
                    <p class="text-lg text-stone-500 mt-1">${clan.gaelicName}</p>
                </div>
                <div class="border-b border-stone-300 mb-6">
                    <nav class="-mb-px flex space-x-6 overflow-x-auto" aria-label="Tabs">
                        <button class="tab-button active whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm" data-tab="lore">Lore & History</button>
                        <button class="tab-button whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm border-transparent text-stone-500 hover:text-stone-700 hover:border-stone-300" data-tab="symbols">Symbols</button>
                        <button class="tab-button whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm border-transparent text-stone-500 hover:text-stone-700 hover:border-stone-300" data-tab="figures">Figures</button>
                        <button class="tab-button whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm border-transparent text-stone-500 hover:text-stone-700 hover:border-stone-300" data-tab="recipe">Recipe</button>
                    </nav>
                </div>
                <div class="tab-content-container animate-fade-in">
                    <div id="lore-content" class="tab-content active space-y-8">
                        <div>
                            <h3 class="text-2xl font-semibold text-stone-800 mb-4 font-title">Historical Lore</h3>
                            <div class="prose max-w-none text-stone-700 space-y-4">${clan.lore.replace(/\n\n/g, '</p><p>')}</div>
                        </div>
                        <div>
                            <h3 class="text-2xl font-semibold text-stone-800 mb-6 font-title">Chronicle</h3>
                            <div class="relative border-l-2 border-stone-300 ml-10 pl-10">${clan.events.map(e => `<div class="timeline-item mb-8"><p class="font-semibold text-yellow-800">${e.year}</p><p class="text-stone-600">${e.event}</p></div>`).join('')}</div>
                        </div>
                    </div>
                    <div id="symbols-content" class="tab-content">
                         <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                             <div>
                                 <h3 class="text-2xl font-semibold text-stone-800 mb-4 font-title">Heraldry & Symbols</h3>
                                 <dl class="space-y-4">
                                     <div class="grid grid-cols-3 gap-4"><dt class="font-semibold text-stone-500">Motto</dt><dd class="col-span-2 text-stone-900">${clan.motto}</dd></div>
                                     <div class="grid grid-cols-3 gap-4"><dt class="font-semibold text-stone-500">Crest</dt><dd class="col-span-2 text-stone-900">${clan.crest}</dd></div>
                                     <div class="grid grid-cols-3 gap-4"><dt class="font-semibold text-stone-500">Plant Badge</dt><dd class="col-span-2 text-stone-900">${clan.plantBadge}</dd></div>
                                     <div class="grid grid-cols-3 gap-4"><dt class="font-semibold text-stone-500">War Cry</dt><dd class="col-span-2 text-stone-900">${clan.warCry}</dd></div>
                                 </dl>
                                 <p class="mt-6 text-sm italic text-stone-500">"${clan.mottoLore}"</p>
                             </div>
                             <div>
                                 <h3 class="text-2xl font-semibold text-stone-800 mb-4 font-title">Tartan</h3>
                                 ${generateTartanHTML(clan.tartan.colors)}
                                 <p class="mt-4 text-stone-600">${clan.tartan.description}</p>
                             </div>
                         </div>
                    </div>
                    <div id="figures-content" class="tab-content">
                        <h3 class="text-2xl font-semibold text-stone-800 mb-4 font-title">Famous Names</h3>
                        <ul class="space-y-4">${clan.famousNames.map(f => `<li class="p-4 bg-stone-50 rounded-lg border border-stone-200"><p class="font-semibold text-stone-800">${f.name}</p><p class="text-stone-600 mt-1">${f.desc}</p></li>`).join('')}</ul>
                    </div>
                    <div id="recipe-content" class="tab-content">
                        <h3 class="text-2xl font-semibold text-stone-800 mb-2 font-title">${clan.recipe.name}</h3>
                        <p class="mb-6 text-stone-600 italic">"${clan.recipe.link}"</p>
                        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                            <div class="lg:col-span-1">
                                <h4 class="font-semibold text-stone-700 mb-3 border-b-2 border-yellow-700 pb-2">Ingredients</h4>
                                <ul class="list-disc list-inside space-y-2 text-stone-600">${clan.recipe.ingredients.map(i => `<li>${i}</li>`).join('')}</ul>
                            </div>
                            <div class="lg:col-span-2">
                                <h4 class="font-semibold text-stone-700 mb-3 border-b-2 border-yellow-700 pb-2">Method</h4>
                                <ol class="list-decimal list-inside space-y-3 text-stone-600">${clan.recipe.method.map(s => `<li>${s}</li>`).join('')}</ol>
                            </div>
                        </div>
                    </div>
                </div>`;
            
            updateActiveItem(clanName, 'clan', sidebarEl);
            setupTabs(mainContentEl);
        }

        function displayFigure(figureName, mainContentEl, sidebarEl) {
            const figure = legendsData.find(f => f.name === figureName);
            if (!figure) return;

            mainContentEl.innerHTML = `
                <div class="animate-fade-in">
                    <div class="mb-6">
                        <h1 class="text-4xl font-bold text-stone-900 font-title">${figure.name}</h1>
                        <p class="text-lg text-stone-500 mt-1">${figure.title}</p>
                    </div>
                     <div class="border-b border-stone-300 mb-6">
                        <nav class="figure-tabs -mb-px flex space-x-6 overflow-x-auto" aria-label="Tabs">
                            <button class="tab-button active whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm" data-tab="lore">Lore</button>
                            ${figure.recipe ? `<button class="tab-button whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm border-transparent text-stone-500 hover:text-stone-700 hover:border-stone-300" data-tab="recipe">Recipe</button>` : ''}
                        </nav>
                    </div>
                    <div class="tab-content-container">
                        <div id="lore-content" class="tab-content active">
                            <div class="prose max-w-none text-stone-700 space-y-4">${figure.lore.replace(/\n\n/g, '</p><p>')}</div>
                        </div>
                        ${figure.recipe ? `
                        <div id="recipe-content" class="tab-content">
                            <h3 class="text-2xl font-semibold text-stone-800 mb-2 font-title">${figure.recipe.name}</h3>
                            <p class="mb-6 text-stone-600 italic">"${figure.recipe.link}"</p>
                            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                                <div class="lg:col-span-1">
                                    <h4 class="font-semibold text-stone-700 mb-3 border-b-2 border-yellow-700 pb-2">Ingredients</h4>
                                    <ul class="list-disc list-inside space-y-2 text-stone-600">${figure.recipe.ingredients.map(i => `<li>${i}</li>`).join('')}</ul>
                                </div>
                                <div class="lg:col-span-2">
                                    <h4 class="font-semibold text-stone-700 mb-3 border-b-2 border-yellow-700 pb-2">Method</h4>
                                    <ol class="list-decimal list-inside space-y-3 text-stone-600">${figure.recipe.method.map(s => `<li>${s}</li>`).join('')}</ol>
                                </div>
                            </div>
                        </div>` : ''}
                    </div>
                </div>`;
            updateActiveItem(figureName, 'figure', sidebarEl);
            setupTabs(mainContentEl);
        }

        // --- TARTAN BUILDER ---
        function initTartanBuilder() {
            const canvas = document.getElementById('tartan-canvas');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            const colorPalette = document.getElementById('color-palette');
            const threadCountInput = document.getElementById('thread-count');
            const addStripeBtn = document.getElementById('add-stripe-btn');
            const clearPatternBtn = document.getElementById('clear-pattern-btn');
            const patternList = document.getElementById('pattern-list');
            const tartanNameInput = document.getElementById('tartan-name');
            const saveBtn = document.getElementById('save-btn');
            const shareBtn = document.getElementById('share-btn');
            const shareTooltip = document.getElementById('share-tooltip');
            const examplesGrid = document.getElementById('tartan-examples-grid');

            const TARTAN_COLORS = [
                { name: 'Hunter Green', hex: '#004225' }, { name: 'Royal Red', hex: '#C41E3A' },
                { name: 'Azure Blue', hex: '#0072B2' }, { name: 'Charcoal', hex: '#36454F' },
                { name: 'Gold', hex: '#FFD700' }, { name: 'White', hex: '#FFFFFF' },
            ];
            let selectedColor = TARTAN_COLORS[0].hex;
            let sett = [];

            const exampleTartans = {
                "Royal Stewart": [
                    { color: '#C41E3A', threads: 72 }, { color: '#0072B2', threads: 12 },
                    { color: '#FFFFFF', threads: 4 }, { color: '#FFD700', threads: 12 },
                    { color: '#004225', threads: 18 }, { color: '#36454F', threads: 4 },
                ],
                "Black Watch": [
                    { color: '#1a2d57', threads: 48 }, { color: '#004225', threads: 48 },
                    { color: '#36454F', threads: 24 },
                ],
                "MacLeod of Harris": [
                    { color: '#FFD700', threads: 24 }, { color: '#36454F', threads: 12 },
                    { color: '#C41E3A', threads: 4 },
                ]
            };

            function setup() {
                setupColorPalette();
                populateTartanExamples();
                loadPatternFromURL();
                if (sett.length === 0) {
                    loadDefaultPattern();
                }
                updatePatternList();
                
                setTimeout(() => {
                    resizeCanvas();
                    drawTartan();
                }, 50);

                addStripeBtn.addEventListener('click', addStripe);
                clearPatternBtn.addEventListener('click', clearPattern);
                saveBtn.addEventListener('click', saveTartanAsImage);
                shareBtn.addEventListener('click', shareTartanLink);
                threadCountInput.addEventListener('input', previewTartan);

                window.addEventListener('resize', () => { 
                    if(document.getElementById('tartan-designer-section').classList.contains('active')) { 
                        resizeCanvas(); 
                        drawTartan(); 
                    } 
                });
            }
            
            function populateTartanExamples() {
                examplesGrid.innerHTML = '';
                for (const name in exampleTartans) {
                    const card = document.createElement('div');
                    card.className = 'tartan-example-card bg-white p-2 rounded-lg shadow border';
                    card.innerHTML = `<canvas class="w-full h-20 rounded-md"></canvas><p class="text-center font-semibold text-sm mt-2">${name}</p>`;
                    
                    const exampleCanvas = card.querySelector('canvas');
                    const exampleCtx = exampleCanvas.getContext('2d');

                    setTimeout(() => {
                        const dpr = window.devicePixelRatio || 1;
                        const rect = exampleCanvas.getBoundingClientRect();
                        exampleCanvas.width = rect.width * dpr;
                        exampleCanvas.height = rect.height * dpr;
                        exampleCtx.scale(dpr, dpr);
                        drawTartan(exampleTartans[name], exampleCtx, rect.width, rect.height);
                    }, 100);

                    card.addEventListener('click', () => {
                        loadExampleTartan(name);
                    });
                    examplesGrid.appendChild(card);
                }
            }

            function loadExampleTartan(name) {
                sett = JSON.parse(JSON.stringify(exampleTartans[name]));
                tartanNameInput.value = name;
                updatePatternList();
                drawTartan();
            }

            function setupColorPalette() {
                colorPalette.innerHTML = '';
                TARTAN_COLORS.forEach((color, index) => {
                    const colorEl = document.createElement('div');
                    colorEl.className = 'w-10 h-10 rounded-full cursor-pointer border-2 border-stone-200 color-box';
                    colorEl.style.backgroundColor = color.hex;
                    colorEl.dataset.color = color.hex;
                    colorEl.title = color.name;
                    if (index === 0) colorEl.classList.add('selected');
                    colorEl.addEventListener('click', () => {
                        selectedColor = color.hex;
                        document.querySelectorAll('#color-palette .color-box').forEach(el => el.classList.remove('selected'));
                        colorEl.classList.add('selected');
                        previewTartan(); // Live preview on color change
                    });
                    colorPalette.appendChild(colorEl);
                });
            }

            function updatePatternList() {
                if (!patternList) return;
                if (sett.length === 0) {
                    patternList.innerHTML = '<p class="text-stone-500 text-center">Your stripes will appear here...</p>';
                    return;
                }
                patternList.innerHTML = '';
                sett.forEach((stripe, index) => {
                    const stripeEl = document.createElement('div');
                    stripeEl.className = 'flex items-center justify-between p-2 rounded-lg mb-2 bg-white border';
                    stripeEl.innerHTML = `
                        <div class="flex items-center gap-3">
                            <div class="w-5 h-5 rounded-full border" style="background-color: ${stripe.color};"></div>
                            <span class="text-sm">${stripe.threads} threads</span>
                        </div>
                        <button class="text-red-500 hover:text-red-700 font-bold text-lg" data-index="${index}">&times;</button>
                    `;
                    stripeEl.querySelector('button').addEventListener('click', (e) => removeStripe(parseInt(e.target.dataset.index)));
                    patternList.appendChild(stripeEl);
                });
            }
            
            function showMessage(text, isError = false) {
                const messageBox = document.getElementById('message-box');
                const messageText = document.getElementById('message-text');
                messageText.textContent = text;
                messageBox.className = 'fixed top-20 right-5 py-2 px-4 rounded-lg shadow-lg transition-all duration-300 z-50';
                messageBox.classList.add(isError ? 'bg-red-600' : 'bg-green-600', 'text-white', 'opacity-100');
                
                setTimeout(() => {
                    messageBox.classList.remove('opacity-100');
                    messageBox.classList.add('opacity-0');
                }, 3000);
            }

            function loadDefaultPattern() {
                loadExampleTartan("Royal Stewart");
            }
            
            function addStripe() {
                const threads = parseInt(threadCountInput.value);
                if (!threads || threads < 2) {
                    showMessage('Please enter a thread count of 2 or more.', true);
                    return;
                }
                sett.push({ color: selectedColor, threads });
                threadCountInput.value = '';
                updatePatternList();
                drawTartan();
            }

            function previewTartan() {
                const threads = parseInt(threadCountInput.value);
                if (!threads || threads < 2) {
                    drawTartan();
                    return;
                }
                const previewSett = [...sett, { color: selectedColor, threads: threads }];
                drawTartan(previewSett);
            }

            function removeStripe(index) {
                sett.splice(index, 1);
                updatePatternList();
                drawTartan();
            }

            function clearPattern() {
                sett = [];
                if(tartanNameInput) tartanNameInput.value = '';
                updatePatternList();
                drawTartan();
            }

            function resizeCanvas() {
                const dpr = window.devicePixelRatio || 1;
                const rect = canvas.parentElement.getBoundingClientRect();
                canvas.width = rect.width * dpr;
                canvas.height = rect.height * dpr;
                ctx.scale(dpr, dpr);
            }

            function drawTartan(patternToDraw = sett, targetCtx = ctx, width = canvas.parentElement.getBoundingClientRect().width, height = canvas.parentElement.getBoundingClientRect().height) {
                if (width === 0 || height === 0) return;

                targetCtx.clearRect(0, 0, width, height);
                if (patternToDraw.length === 0) {
                    targetCtx.fillStyle = '#F9FAFB';
                    targetCtx.fillRect(0, 0, width, height);
                    targetCtx.fillStyle = '#9CA3AF';
                    targetCtx.font = '16px Inter';
                    targetCtx.textAlign = 'center';
                    targetCtx.fillText('Add stripes to see your tartan!', width / 2, height / 2);
                    return;
                }

                const fullPattern = [...patternToDraw, ...[...patternToDraw].reverse()];
                const totalThreads = fullPattern.reduce((sum, s) => sum + s.threads, 0);
                if (totalThreads === 0) return;

                const scale = Math.max(width, height) / totalThreads;
                
                let x = 0;
                while (x < width) {
                    fullPattern.forEach(stripe => {
                        targetCtx.fillStyle = stripe.color;
                        const stripeWidth = stripe.threads * scale;
                        targetCtx.fillRect(x, 0, stripeWidth, height);
                        x += stripeWidth;
                    });
                }

                let y = 0;
                while (y < height) {
                     fullPattern.forEach(stripe => {
                        targetCtx.fillStyle = stripe.color;
                        const stripeHeight = stripe.threads * scale;
                        targetCtx.globalAlpha = 0.65;
                        targetCtx.fillRect(0, y, width, stripeHeight);
                        targetCtx.globalAlpha = 1.0;
                        y += stripeHeight;
                    });
                }
            }

            function saveTartanAsImage() {
                const name = tartanNameInput.value || 'My-Tartan';
                const link = document.createElement('a');
                link.download = `${name.replace(/\s+/g, '-')}.png`;
                link.href = canvas.toDataURL('image/png');
                link.click();
                showMessage('Tartan saved as image!', false);
            }

            function shareTartanLink() {
                const patternString = sett.map(s => `${s.color.replace('#','')}-${s.threads}`).join(',');
                const nameString = encodeURIComponent(tartanNameInput.value || 'My Tartan');
                const url = `${window.location.href.split('?')[0]}?tartan=${patternString}&name=${nameString}`;
                
                const dummy = document.createElement('textarea');
                document.body.appendChild(dummy);
                dummy.value = url;
                dummy.select();
                document.execCommand('copy');
                document.body.removeChild(dummy);

                shareTooltip.textContent = 'Copied!';
                setTimeout(() => { shareTooltip.textContent = 'Copy sharable link'; }, 2000);
            }

            function loadPatternFromURL() {
                const params = new URLSearchParams(window.location.search);
                const tartanParam = params.get('tartan');
                const nameParam = params.get('name');
                if (tartanParam) {
                    try {
                        const newSett = tartanParam.split(',').map(p => {
                            const [color, threads] = p.split('-');
                            return { color: `#${color}`, threads: parseInt(threads) };
                        });
                        sett = newSett;
                        if(nameParam) tartanNameInput.value = decodeURIComponent(nameParam);
                        document.querySelector('.nav-link[data-target="tartan-designer"]').click();
                    } catch (e) {
                        console.error("Could not parse tartan from URL", e);
                        loadDefaultPattern();
                    }
                }
            }
            setup();
        }

        // --- RECIPE BOOK ---
        function initRecipeBook() {
            const recipeGrid = document.getElementById('recipe-grid');
            const recipeIndexList = document.getElementById('recipe-index-list');
            if (!recipeGrid || !recipeIndexList) return;

            // Create a unified list of all recipes from both clans and legends
            const allRecipes = [];
            clanData.forEach(clan => {
                if (clan.recipe) {
                    allRecipes.push({
                        ...clan.recipe,
                        context: `From the lands of ${clan.name}`
                    });
                }
            });
            legendsData.forEach(legend => {
                if (legend.recipe) {
                    allRecipes.push({
                        ...legend.recipe,
                        context: `A dish for ${legend.name}`
                    });
                }
            });

            // Populate the main recipe grid
            recipeGrid.innerHTML = allRecipes.map((recipe, index) => `
                <div class="content-card bg-white rounded-lg shadow-lg overflow-hidden cursor-pointer" data-index="${index}">
                    <div class="p-6">
                        <h2 class="text-2xl font-bold font-title text-stone-900">${recipe.name}</h2>
                        <p class="text-stone-600 mt-2 text-sm h-12 overflow-hidden">${recipe.link}</p>
                        <p class="text-xs text-yellow-800 font-semibold mt-3">${recipe.context}</p>
                    </div>
                </div>
            `).join('');

            // Sort recipes alphabetically for the glossary
            const sortedRecipes = [...allRecipes].sort((a, b) => a.name.localeCompare(b.name));

            // Populate the glossary
            recipeIndexList.innerHTML = sortedRecipes.map(recipe => {
                // Find the original index to link to the correct data in the unsorted 'allRecipes' array
                const originalIndex = allRecipes.findIndex(r => r.name === recipe.name && r.context === recipe.context);
                return `<button class="text-stone-700 hover:text-yellow-800 hover:underline transition-colors text-left" data-index="${originalIndex}">${recipe.name}</button>`;
            }).join('');

            // Shared click handler for both grid and glossary
            const handleRecipeClick = (index) => {
                const recipe = allRecipes[index];
                if (recipe) {
                    openGenericModal(recipe);
                }
            };

            recipeGrid.addEventListener('click', e => {
                const card = e.target.closest('.content-card');
                if (card && card.dataset.index) {
                    handleRecipeClick(card.dataset.index);
                }
            });

            recipeIndexList.addEventListener('click', e => {
                const button = e.target.closest('button');
                if (button && button.dataset.index) {
                    handleRecipeClick(button.dataset.index);
                }
            });
        }

        // --- GENERIC MODAL ---
        function openGenericModal(item) {
            const modal = document.getElementById('generic-modal');
            const modalContent = document.getElementById('modal-content');
            
            let contentHTML = `
                <div class="p-6 md:p-8">
                    <div class="flex justify-between items-start">
                        <h2 class="text-3xl font-bold font-title mb-2 text-yellow-900">${item.name}</h2>
                        <button id="close-modal" class="text-3xl font-bold text-stone-500 hover:text-stone-800">&times;</button>
                    </div>`;
            
            if (item.title) { // For Legends
                 contentHTML += `<p class="text-md text-stone-600 mb-6 italic">${item.title}</p>`;
            }
            if (item.link) { // For Recipes
                 contentHTML += `<p class="text-md text-stone-600 mb-6 italic">"${item.link}"</p>`;
            }

            if(item.lore) { // For Legends
                contentHTML += `<div class="prose max-w-none text-stone-700 space-y-4 mb-8">${item.lore.replace(/\n\n/g, '</p><p>')}</div>`;
            }

            if(item.ingredients && item.method) { // For Recipes
                contentHTML += `
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div>
                            <h3 class="text-xl font-semibold border-b-2 border-yellow-700 pb-2 mb-3">Ingredients</h3>
                            <ul class="list-disc list-inside space-y-1 text-stone-700">${item.ingredients.map(i => `<li>${i}</li>`).join('')}</ul>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold border-b-2 border-yellow-700 pb-2 mb-3">Method</h3>
                            <ol class="list-decimal list-inside space-y-2 text-stone-700">${item.method.map(s => `<li>${s}</li>`).join('')}</ol>
                        </div>
                    </div>`;
            } else if (item.recipe) { // For Legends in the modal
                 contentHTML += `
                    <h3 class="text-2xl font-semibold text-stone-800 mb-2 font-title">${item.recipe.name}</h3>
                    <p class="mb-6 text-stone-600 italic">"${item.recipe.link}"</p>
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                        <div class="lg:col-span-1">
                            <h4 class="font-semibold text-stone-700 mb-3 border-b-2 border-yellow-700 pb-2">Ingredients</h4>
                            <ul class="list-disc list-inside space-y-2 text-stone-600">${item.recipe.ingredients.map(i => `<li>${i}</li>`).join('')}</ul>
                        </div>
                        <div class="lg:col-span-2">
                            <h4 class="font-semibold text-stone-700 mb-3 border-b-2 border-yellow-700 pb-2">Method</h4>
                            <ol class="list-decimal list-inside space-y-3 text-stone-600">${item.recipe.method.map(s => `<li>${s}</li>`).join('')}</ol>
                        </div>
                    </div>`;
            }
            
            contentHTML += `</div>`;

            modalContent.innerHTML = contentHTML;
            modal.classList.remove('hidden');
            modal.classList.add('flex', 'animate-fade-in');
            
            modal.querySelector('#close-modal').addEventListener('click', () => {
                modal.classList.add('hidden');
                modal.classList.remove('flex', 'animate-fade-in');
            });
        }
    });
    </script>
</body>
</html>